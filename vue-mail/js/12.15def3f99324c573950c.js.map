{"version":3,"sources":["webpack:///js/12.15def3f99324c573950c.js","webpack:///./src/views/mail_label/index.vue","webpack:///index.vue?4ed3","webpack:///./src/views/mail_label/index.vue?76bb","webpack:///./src/views/mail_label/index.vue?e5c0","webpack:///./src/views/mail_label/index.vue?c439"],"names":["webpackJsonp","315","module","exports","__webpack_require__","injectStyle","ssrContext","Component","404","Object","defineProperty","value","_mail_label","labelAPI","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","default","name","data","listLoading","total","listQuery","page","limit","sort","list","labelOperation","formVisible","form","color","created","this","getList","filters","operationFilter","operation","add","edit","methods","_this","fetchList","then","res","labelList","handleSizeChange","val","handleCurrentChange","initForm","openForm","label","submit","_this2","subscribe","next","$message","type","message","duration","setTimeout","error","delLabel","id","_this3","$confirm","confirmButtonText","cancelButtonText","del","goToMailList","$router","push","path","query","labelId","437","i","version","sources","names","mappings","file","sourceRoot","519","content","locals","568","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","on","click","$event","_v","directives","rawName","expression","modifiers","body","ref","staticStyle","width","border","highlight-current-row","align","min-width","scopedSlots","_u","fn","scope","row","_s","size","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","title","_f","visible","update:visible","model","label-width","auto-complete","maxlength","minlength","callback","$$v","show-alpha","slot","staticRenderFns"],"mappings":"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","file":"js/12.15def3f99324c573950c.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(519)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(404),\n  /* template */\n  __webpack_require__(568),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 404:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _mail_label = __webpack_require__(114);\n\nvar labelAPI = _interopRequireWildcard(_mail_label);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = {\n    name: 'label_manage',\n    data: function data() {\n        return {\n            listLoading: true,\n            total: null,\n            listQuery: {\n                page: 1,\n                limit: 10,\n                sort: ''\n            },\n            list: [],\n            labelOperation: '',\n            formVisible: false,\n            form: {\n                name: '',\n                color: '#20a0ff'\n            }\n        };\n    },\n    created: function created() {\n        this.getList();\n    },\n\n    filters: {\n        operationFilter: function operationFilter(operation) {\n            var operationMap = {\n                add: '新增标签',\n                edit: '编辑标签'\n            };\n            return operationMap[operation];\n        }\n    },\n    methods: {\n        getList: function getList() {\n            var _this = this;\n\n            labelAPI.fetchList().then(function (res) {\n                _this.list = res.data.labelList;\n                _this.total = res.data.total;\n                _this.listLoading = false;\n            });\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            this.listQuery.limit = val;\n            this.getList();\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.listQuery.page = val;\n            this.getList();\n        },\n        initForm: function initForm() {\n            this.form = {\n                name: '',\n                color: '#20a0ff'\n            };\n        },\n        openForm: function openForm(operation, label) {\n            this.labelOperation = operation;\n            this.formVisible = true;\n            if (operation === 'add') {\n                this.initForm();\n            } else {\n                this.form = label;\n            }\n        },\n        submit: function submit() {\n            var _this2 = this;\n\n            var handle = this.labelOperation === 'add' ? labelAPI.add : labelAPI.edit;\n            handle(this.form).subscribe({\n                next: function next() {\n                    _this2.$message({\n                        type: 'success',\n                        message: '操作成功',\n                        duration: 1000\n                    });\n                    setTimeout(function () {\n                        _this2.formVisible = false;\n                        _this2.getList();\n                    }, 1000);\n                },\n                error: function error() {\n                    _this2.$message({\n                        type: 'error',\n                        message: '操作失败'\n                    });\n                }\n            });\n        },\n        delLabel: function delLabel(id) {\n            var _this3 = this;\n\n            this.$confirm('是否删除该标签，删除后也将删除邮件内该标签', '确认', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                labelAPI.del(id).subscribe({\n                    next: function next() {\n                        _this3.$message('删除成功');\n                        _this3.getList();\n                    },\n                    error: function error() {\n                        _this3.$message('删除失败');\n                    }\n                });\n            });\n        },\n        goToMailList: function goToMailList(id) {\n            this.$router.push({ path: '/mail_list/index', query: { labelId: id } });\n        }\n    }\n};\n\n/***/ }),\n\n/***/ 437:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(300)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(437);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(301)(\"43c2d552\", content, true);\n\n/***/ }),\n\n/***/ 568:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('div', {\n    staticClass: \"filter-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openForm('add')\n      }\n    }\n  }, [_vm._v(\"新增标签\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    ref: \"labelTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"border\": \"\",\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"min-width\": \"200px\",\n      \"label\": \"标签名\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tag', {\n          attrs: {\n            \"type\": \"primary\",\n            \"color\": \"#E3FDFD\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goToMailList(scope.row.id)\n            }\n          }\n        }, [_vm._v(_vm._s(scope.row.name))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"操作\",\n      \"min-width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          staticClass: \"edit-label\",\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.openForm('edit', scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\\n                \")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.delLabel(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"删除\\n                \")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"success\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goToMailList(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"查看\\n                \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.listLoading),\n      expression: \"!listLoading\"\n    }],\n    staticClass: \"pagination-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.listQuery.page,\n      \"page-sizes\": [10, 20, 30, 50],\n      \"page-size\": _vm.listQuery.limit,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.listQuery.page = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm._f(\"operationFilter\")(_vm.labelOperation),\n      \"visible\": _vm.formVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.formVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标签名称\",\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"15\",\n      \"minlength\": \"1\"\n    },\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"标签颜色\",\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-color-picker', {\n    attrs: {\n      \"show-alpha\": \"\"\n    },\n    model: {\n      value: (_vm.form.color),\n      callback: function($$v) {\n        _vm.form.color = $$v\n      },\n      expression: \"form.color\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.formVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/12.15def3f99324c573950c.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cbd3345c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cbd3345c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mail_label/index.vue\n// module id = 315\n// module chunks = 12","<template>\r\n    <div class=\"app-container calendar-list-container\">\r\n    \r\n        <div class=\"filter-container\">\r\n            <el-button @click=\"openForm('add')\" type=\"primary\" icon=\"plus\">新增标签</el-button>\r\n        </div>\r\n    \r\n        <el-table :data=\"list\" ref=\"labelTable\" v-loading.body=\"listLoading\" border highlight-current-row style=\"width: 100%\">\r\n    \r\n            <el-table-column align=\"center\" min-width=\"200px\" label=\"标签名\">\r\n                <template scope=\"scope\">\r\n                    <el-tag @click=\"goToMailList(scope.row.id)\" type=\"primary\" color=\"#E3FDFD\">{{scope.row.name}}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n    \r\n            <el-table-column align=\"center\" label=\"操作\" min-width=\"200px\">\r\n                <template scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"primary\" @click=\"openForm('edit', scope.row)\" class=\"edit-label\">编辑\r\n                    </el-button>\r\n                    <el-button size=\"small\" type=\"danger\" @click=\"delLabel(scope.row.id)\">删除\r\n                    </el-button>\r\n                    <el-button size=\"small\" type=\"success\" @click=\"goToMailList(scope.row.id)\">查看\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    \r\n        <div v-show=\"!listLoading\" class=\"pagination-container\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"listQuery.page\" :page-sizes=\"[10,20,30, 50]\" :page-size=\"listQuery.limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n    \r\n        <el-dialog :title=\"labelOperation | operationFilter\" :visible.sync=\"formVisible\">\r\n            <el-form :model=\"form\">\r\n                <el-form-item label=\"标签名称\" label-width=\"100px\">\r\n                    <el-input v-model=\"form.name\" auto-complete=\"off\" maxlength=\"15\" minlength=\"1\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"标签颜色\" label-width=\"100px\">\r\n                    <el-color-picker v-model=\"form.color\" show-alpha></el-color-picker>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"formVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submit()\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport * as labelAPI from 'api/mail_label';\r\n\r\nexport default {\r\n    name: 'label_manage',\r\n    data() {\r\n        return {\r\n            listLoading: true,\r\n            total: null,\r\n            listQuery: {\r\n                page: 1,\r\n                limit: 10,\r\n                sort: ''\r\n            },\r\n            list: [],\r\n            labelOperation: '',\r\n            formVisible: false,\r\n            form: {\r\n                name: '',\r\n                color: '#20a0ff'\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.getList();\r\n    },\r\n    filters: {\r\n        operationFilter(operation) {\r\n            const operationMap = {\r\n                add: '新增标签',\r\n                edit: '编辑标签'\r\n            };\r\n            return operationMap[operation];\r\n        }\r\n    },\r\n    methods: {\r\n        getList() {\r\n            labelAPI.fetchList().then(res => {\r\n                this.list = res.data.labelList;\r\n                this.total = res.data.total;\r\n                this.listLoading = false;\r\n            })\r\n        },\r\n        handleSizeChange(val) {\r\n            this.listQuery.limit = val;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.listQuery.page = val;\r\n            this.getList();\r\n        },\r\n        initForm() {\r\n            this.form = {\r\n                name: '',\r\n                color: '#20a0ff'\r\n            };\r\n        },\r\n        openForm(operation, label) {\r\n            this.labelOperation = operation;\r\n            this.formVisible = true;\r\n            if (operation === 'add') {\r\n                this.initForm();\r\n            } else {\r\n                this.form = label;\r\n            }\r\n        },\r\n        submit() {\r\n            const handle = this.labelOperation === 'add' ? labelAPI.add : labelAPI.edit;\r\n            handle(this.form).subscribe({\r\n                next: () => {\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '操作成功',\r\n                        duration: 1000\r\n                    });\r\n                    setTimeout(() => {\r\n                        this.formVisible = false;\r\n                        this.getList();\r\n                    }, 1000)\r\n                },\r\n                error: () => {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        message: '操作失败'\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        delLabel(id) {\r\n            this.$confirm('是否删除该标签，删除后也将删除邮件内该标签', '确认', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                labelAPI.del(id).subscribe({\r\n                    next: () => {\r\n                        this.$message('删除成功');\r\n                        this.getList();\r\n                    },\r\n                    error: () => {\r\n                        this.$message('删除失败');\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        goToMailList(id) {\r\n            this.$router.push({ path: '/mail_list/index', query: { labelId: id } })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?499df185","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-cbd3345c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_label/index.vue\n// module id = 437\n// module chunks = 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cbd3345c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"43c2d552\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-cbd3345c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_label/index.vue\n// module id = 519\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('div', {\n    staticClass: \"filter-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openForm('add')\n      }\n    }\n  }, [_vm._v(\"新增标签\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    ref: \"labelTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"border\": \"\",\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"min-width\": \"200px\",\n      \"label\": \"标签名\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tag', {\n          attrs: {\n            \"type\": \"primary\",\n            \"color\": \"#E3FDFD\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goToMailList(scope.row.id)\n            }\n          }\n        }, [_vm._v(_vm._s(scope.row.name))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"操作\",\n      \"min-width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          staticClass: \"edit-label\",\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.openForm('edit', scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\\n                \")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.delLabel(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"删除\\n                \")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"success\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goToMailList(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"查看\\n                \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.listLoading),\n      expression: \"!listLoading\"\n    }],\n    staticClass: \"pagination-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.listQuery.page,\n      \"page-sizes\": [10, 20, 30, 50],\n      \"page-size\": _vm.listQuery.limit,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.listQuery.page = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm._f(\"operationFilter\")(_vm.labelOperation),\n      \"visible\": _vm.formVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.formVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标签名称\",\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"15\",\n      \"minlength\": \"1\"\n    },\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"标签颜色\",\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-color-picker', {\n    attrs: {\n      \"show-alpha\": \"\"\n    },\n    model: {\n      value: (_vm.form.color),\n      callback: function($$v) {\n        _vm.form.color = $$v\n      },\n      expression: \"form.color\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.formVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-cbd3345c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mail_label/index.vue\n// module id = 568\n// module chunks = 12"],"sourceRoot":""}