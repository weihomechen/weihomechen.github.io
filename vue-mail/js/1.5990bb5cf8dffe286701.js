webpackJsonp([1],{324:function(t,e,i){function a(t){i(533)}var n=i(1)(i(436),i(577),a,null,null);t.exports=n.exports},346:function(t,e,i){"use strict";function a(t){return(0,s.default)({url:"/mail_contacts/list",method:"get",params:t})}function n(t){return d.Observable.create(function(t){setTimeout(t.next(),100)})}function o(t){return d.Observable.create(function(t){setTimeout(t.next(),100)})}function l(t){return d.Observable.create(function(t){setTimeout(t.next(),20)})}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchList=a,e.add=n,e.edit=o,e.del=l;var r=i(38),s=function(t){return t&&t.__esModule?t:{default:t}}(r),d=i(64)},351:function(t,e,i){"use strict";function a(){return(0,o.default)({url:"/qiniu/upload/token",method:"get"})}Object.defineProperty(e,"__esModule",{value:!0}),e.getToken=a;var n=i(38),o=function(t){return t&&t.__esModule?t:{default:t}}(n)},361:function(t,e,i){"use strict";function a(t){return(0,l.default)({url:"mail_detail",method:"get",params:t})}function n(){return r.Observable.create(function(t){setTimeout(function(){return t.next()},1e3)})}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchDetail=a,e.delMail=n;var o=i(38),l=function(t){return t&&t.__esModule?t:{default:t}}(o),r=i(64)},414:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(27),n=function(t){return t&&t.__esModule?t:{default:t}}(a),o=i(351);e.default={name:"editorAudioUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,dataObj:{token:"",key:""},audioList:[],tempAudioUrl:"",form:{title:"",url:"",text:""},rules:{title:[{required:!0,trigger:"blur"}],url:[{required:!0,trigger:"blur"}]}}},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message("填写有误"),!1;t.$emit("successCBK",t.form),t.dialogVisible=!1,t.form={title:"",url:"",text:""}})},handleAudioChange:function(t,e){this.audioList=e.slice(-1)},handleAudioScucess:function(){this.form.url=this.tempAudioUrl},audioBeforeUpload:function(){var t=this,e=this;return new n.default(function(i,a){(0,o.getToken)().then(function(a){var n=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=n,t.tempAudioUrl=a.data.qiniu_url,i(!0)}).catch(function(t){console.log(t),a(!1)})})}}}},415:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(27),n=function(t){return t&&t.__esModule?t:{default:t}}(a),o=i(351);e.default={name:"editorSlideUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,dataObj:{token:"",key:""},list:[],fileList:[]}},methods:{handleSubmit:function(){var t=this.list.map(function(t){return t.url});this.$emit("successCBK",t),this.list=[],this.fileList=[],this.dialogVisible=!1},handleRemove:function(t){for(var e=t.response.key,i=0,a=this.list.length;i<a;i++)if(this.list[i].key===e)return void this.list.splice(i,1)},handleImageScucess:function(t){this.list.push({url:t.files.file})},beforeUpload:function(){var t=this,e=this;return new n.default(function(i,a){(0,o.getToken)().then(function(a){var n=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=n,t.list.push({key:n,url:a.data.qiniu_url}),i(!0)}).catch(function(t){console.log(t),a(!1)})})}}}},416:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(27),n=function(t){return t&&t.__esModule?t:{default:t}}(a),o=i(351);e.default={name:"editorSlideUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,dataObj:{token:"",key:""},list:[]}},methods:{handleSubmit:function(){var t=this.list.map(function(t){return t.url});this.$emit("successCBK",t),this.list=[],this.dialogVisible=!1},handleRemove:function(t){for(var e=t.response.key,i=0,a=this.list.length;i<a;i++)if(this.list[i].key===e)return void this.list.splice(i,1)},beforeUpload:function(){var t=this,e=this;return new n.default(function(i,a){(0,o.getToken)().then(function(a){var n=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=n,t.list.push({key:n,url:a.data.qiniu_url}),i(!0)}).catch(function(t){console.log(t),a(!1)})})}}}},417:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(27),n=function(t){return t&&t.__esModule?t:{default:t}}(a),o=i(351);e.default={name:"editorVideoUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,dataObj:{token:"",key:""},videoList:[],tempVideoUrl:"",tempImageUrl:"",form:{title:"",url:"",image:""},rules:{url:[{required:!0,trigger:"blur"}],title:[{required:!0,trigger:"blur"}]}}},methods:{handleSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message("填写有误"),!1;t.form.image.length>0?(t.$emit("successCBK",t.form),t.dialogVisible=!1,t.form={title:"",url:"",image:""}):t.$message("请上传图片")})},handleVideoChange:function(t,e){this.videoList=e.slice(-1)},handleVideoScucess:function(){this.form.url=this.tempVideoUrl},videoBeforeUpload:function(){var t=this,e=this;return new n.default(function(i,a){(0,o.getToken)().then(function(a){var n=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=n,t.tempVideoUrl=a.data.qiniu_url,i(!0)}).catch(function(t){console.log(t),a(!1)})})},handleImageScucess:function(){this.form.image=this.tempImageUrl},beforeImageUpload:function(){var t=this,e=this;return new n.default(function(i,a){(0,o.getToken)().then(function(a){var n=a.data.qiniu_key,o=a.data.qiniu_token;e._data.dataObj.token=o,e._data.dataObj.key=n,t.tempImageUrl=a.data.qiniu_url,i(!0)}).catch(function(t){console.log(t),a(!1)})})}}}},418:function(t,e,i){"use strict";(function(t){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(561),o=a(n),l=i(564),r=a(l),s=i(563),d=a(s),c=i(562),u=a(c);e.default={name:"tinymce",components:{editorImage:u.default,editorAudio:o.default,editorSlide:d.default,editorVideo:r.default},props:{id:{type:String,default:"tinymceEditor"},value:{type:String,default:""},customButton:{type:Array,required:!1,default:function(){return["editorAudio","editorImage"]}},toolbar:{type:Array,required:!1,default:function(){return["removeformat undo redo |  bullist numlist | outdent indent | forecolor | fullscreen code","bold italic blockquote | h2 p  media link | alignleft aligncenter alignright"]}},data:function(){return{hasChange:!1,hasInit:!1}},menubar:{default:""},height:{type:Number,required:!1,default:360}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return tinymce.get(e.id).setContent(t)})}},mounted:function(){var t=this,e=this;tinymce.init({selector:"#"+this.id,height:this.height,body_class:"panel-body ",object_resizing:!1,language:"zh_CN",language_url:"/static/tinymce/langs/zh_CN.js",toolbar:this.toolbar,menubar:this.menubar,plugins:"advlist,autolink,code,paste,textcolor, colorpicker,fullscreen,link,lists,media,wordcount, imagetools,watermark",end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",block_formats:"普通标签=p;小标题=h2;",imagetools_cors_hosts:["wpimg.wallstcn.com","wallstreetcn.com"],imagetools_toolbar:"watermark",default_link_target:"_blank",link_title:!1,textcolor_map:["1482f0","1482f0","4595e6","4595e6"],init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("Change",function(){t.hasChange=!0,t.$emit("input",i.getContent({format:"raw"}))})},setup:function(t){t.addButton("h2",{title:"小标题",text:"小标题",onclick:function(){t.execCommand("mceToggleFormat",!1,"h2")},onPostRender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("h2",function(t){e.active(t)})})}}),t.addButton("p",{title:"正文",text:"正文",onclick:function(){t.execCommand("mceToggleFormat",!1,"p")},onPostRender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("p",function(t){e.active(t)})})}})}})},methods:{imageSuccessCBK:function(e){console.log(e);var i=this;e.forEach(function(e){var a=document.createElement("img");a.setAttribute("src",e),a.onload=function(){t(this).addClass("wscnph"),t(this).attr("data-wscntype","image"),t(this).attr("data-wscnh",this.height),t(this).attr("data-wscnw",this.width),tinymce.get(i.id).insertContent(a.outerHTML)}})},slideSuccessCBK:function(t){var e=document.createElement("img");e.setAttribute("data-wscntype","slide"),e.setAttribute("data-uri",t.toString()),e.setAttribute("data-wscnh","190"),e.setAttribute("data-wscnw","200"),e.setAttribute("src"," https://wdl.wallstreetcn.com/6410b47d-a54c-4826-9bc1-c3e5df31280c"),e.className="wscnph editor-placeholder",tinymce.get(this.id).insertContent(e.outerHTML)},videoSuccessCBK:function(t){var e=document.createElement("img");e.setAttribute("data-wscntype","video"),e.setAttribute("data-uri",t.url),e.setAttribute("data-cover-img-uri",t.image),e.setAttribute("data-title",t.title),e.setAttribute("src","https://wdl.wallstreetcn.com/07aeb3e7-f4ca-4207-befb-c987b3dc7011"),e.className="wscnph editor-placeholder",tinymce.get(this.id).insertContent(e.outerHTML)},aduioSuccessCBK:function(t){var e=document.createElement("img");e.setAttribute("data-wscntype","audio"),e.setAttribute("data-uri",t.url),e.setAttribute("data-title",t.title),e.setAttribute("data-text",t.text),e.setAttribute("src","https://wdl.wallstreetcn.com/2ed0c8c8-fb82-499d-b81c-3fd1de114eae"),e.className="wscnph editor-placeholder",tinymce.get(this.id).insertContent(e.outerHTML)}},destroyed:function(){tinymce.get(this.id).destroy()}}}).call(e,i(638))},436:function(t,e,i){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),l=n(o),r=i(29),s=n(r),d=i(565),c=n(d),u=i(346),p=a(u),f=i(440),m=a(f),g=i(361),h=a(g),A=i(118),v=i(10),b=i(64);e.default={name:"mail_send",components:{Tinymce:c.default},data:function(){return{loading:!0,mail:{title:"",oldFileList:[],oldAudioList:[],content:"",target:[],copy:[],fileList:[],audioList:[]},date:"",target:[],copy:[],isRecording:!1,recorder:null,contacts:[],editorId:"mail_send_ediotr",editorHeight:null,timing:""}},created:function(){this.initSendPage()},methods:{initSendPage:function(){var t=this;this.getContacts().subscribe({next:function(){t.getContent()}}),this.editorHeight=window.innerHeight-420},getContacts:function(){var t=this;return this.loading=!0,b.Observable.create(function(e){p.fetchList().then(function(i){i.data.contacts.forEach(function(t){t.show=t.name+"<"+t.mail+">"}),t.contacts=i.data.contacts,t.loading=!1,e.next()})})},getContent:function(){var t=this,e=this.$store.getters.pageType,i=this.$store.getters.mailId||this.$store.getters.draftId,a=this.$store.getters.mailType;if(e&&"add"!==e)h.fetchDetail({mailId:i,mailType:a}).then(function(i){var a=i.data;t.mail.title=a.title,t.mail.content=a.content,t.mail.oldFileList=a.oldFileList,t.mail.oldAudioList=a.oldAudioList,t.date=a.receiveDate||a.sendDate;var n="";a.target.forEach(function(t){t.show=t.name+"<"+t.mail+">",n+=t.show+";"});var o="";a.copy.forEach(function(t){t.show=t.name+"<"+t.mail+">",o+=t.show+";"});var l={name:a.sender,mail:a.sendMail,show:a.sender+"<"+a.sendMail+">"};switch(e){case"reply":t.mail.title="回复："+t.mail.title,t.addContentHeader(l.show,n,o),t.target.push(l);break;case"replyAll":t.mail.title="回复："+t.mail.title,t.addContentHeader(l.show,n,o),t.target=[l].concat(a.target,a.copy);break;case"edit":t.target=a.target,t.copy=a.copy;break;case"forward":t.mail.title="转发"+t.mail.title,t.addContentHeader(l.show,n,o)}});else if(e&&"add"===e){var n=this.$store.getters.target;n&&("all"===n?this.target=this.contacts:(n.forEach(function(t){return t.show=t.name+"<"+t.mail+">"}),this.target=n),this.$store.commit("SET_TARGET",null))}},addContentHeader:function(t,e,i){var a='<p><span>------------------------ &nbsp; 原始邮件&nbsp;------------------------</span></p>\n                <div style="background: #e4eaef"><br>\n                <p>&nbsp;<strong>发件人:</strong>'+t+"</p>\n                <p>&nbsp;<strong>时间:&nbsp;&nbsp;&nbsp;</strong>"+(0,v.parseTime)(this.date)+"</p>\n                <p>&nbsp;<strong>收件人:</strong>"+e+"</p>\n                <p>&nbsp;<strong>抄送:&nbsp;&nbsp;&nbsp;</strong>"+i+"</p>\n                <p>&nbsp;<strong>主题:&nbsp;&nbsp;&nbsp;</strong>"+this.mail.title+"</p>\n                <p><br/></p>\n                </div>";this.mail.content=a+this.mail.content},addContact:function(t){if(!(0,A.isEmail)(t))return void this.$message({showClose:!0,message:"输入的邮箱不合法",type:"warning",duration:1200});var e={name:t,show:t,mail:t};this.contacts.push(e),this.target.push(e)},cleanTarget:function(){this.target=[]},cleanCopy:function(){this.copy=[]},handleBefore:function(t){},handleSuccess:function(t,e){this.mail.fileList.push({name:e.name,uuid:e.uid,url:e.url})},handlePreview:function(t){window.open(t.url)},handleRemove:function(t){var e=this;this.mail.fileList.forEach(function(i,a){i.uuid===t.uid&&e.mail.fileList.splice(a,1)})},startRecorder:function(){var t=this;Recorder.get(function(e){t.recorder=e,t.recorder.start(),t.isRecording=!0})},stopRecorder:function(){this.recorder.stop(),this.isRecording=!1,this.mail.audioList.push({name:(0,v.getNowFormatDate)(),blob:this.recorder.getBlob(),url:window.URL.createObjectURL(this.recorder.getBlob())})},delOldAudio:function(t){this.mail.oldAudioList.splice(t,1)},delAudio:function(t){this.mail.audioList.splice(t,1)},sendSubmit:function(){var t=this;if(this.target.length<1)return void this.$message({showClose:!0,message:"收件人不能为空",type:"warning",duration:1200});this.target.forEach(function(e){t.mail.target.push(e.mail)}),this.copy.forEach(function(e){t.mail.copy.push(e.mail)});var e=new FormData;this.appendToFormData(e,this.mail);var i=e;this.loading=!0,m.sendMail(i).subscribe({next:function(){t.$message({type:"success",message:"发送成功",duration:1200}),t.loading=!1,t.initMail()},error:function(){t.$message({type:"error",message:"发送失败",duration:2e3}),t.loading=!1}})},saveAsDraft:function(){var t=this;this.target.forEach(function(e){t.mail.target.push(e.mail)}),this.copy.forEach(function(e){t.mail.copy.push(e.mail)});var e=new FormData;this.appendToFormData(e,this.mail);var i=e;this.loading=!0,m.saveAsDraft(i).subscribe({next:function(){t.loading=!1,t.$message("保存成功")}}).catch()},appendToFormData:function(t,e){(0,s.default)(e).forEach(function(i){"object"===(0,l.default)(e[i])?(0,A.isEmpty)(e[i])||("Array"===(0,A.getType)(e[i])?e[i].forEach(function(e,a){"Object"===(0,A.getType)(e)?(0,s.default)(e).forEach(function(n){t.append(i+"["+a+"]."+n,e[n])}):t.append(i+"["+a+"]",e)}):(0,s.default)(e[i]).forEach(function(a){t.append(i+"."+a,e[i][a])})):t.append(i,e[i])})},initMail:function(){for(var t in this.mail)"String"===(0,A.getType)(this.mail[t])?this.mail[t]="":"Array"===(0,A.getType)(this.mail[t])&&(this.mail[t]=[]);this.target=[],this.copy=[],tinymce.get(this.editorId).setContent("")}}}},440:function(t,e,i){"use strict";function a(t){return o.Observable.create(function(t){setTimeout(function(){return t.next()},2e3)})}function n(t){return o.Observable.create(function(t){setTimeout(function(){return t.next()},1e3)})}Object.defineProperty(e,"__esModule",{value:!0}),e.sendMail=a,e.saveAsDraft=n;var o=i(64)},444:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,".upload-container .editor-slide-upload[data-v-0172f588]{margin-bottom:20px}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/components/Tinymce/components/editorImage.vue"],names:[],mappings:"AACA,wDACE,kBAAoB,CACrB",file:"editorImage.vue",sourcesContent:["\n.upload-container .editor-slide-upload[data-v-0172f588] {\n  margin-bottom: 20px;\n}\n"],sourceRoot:""}])},445:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,".tinymce-container[data-v-0178404a]{position:relative}.tinymce-textarea[data-v-0178404a]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-0178404a]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-0178404a]{display:inline-block}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/components/Tinymce/index.vue"],names:[],mappings:"AACA,oCACE,iBAAkB,CACnB,AACD,mCACE,kBAAmB,AACnB,UAAY,CACb,AACD,8CACE,kBAAmB,AACnB,WAAY,AAEZ,QAAU,CACX,AACD,oCACE,oBAAsB,CACvB",file:"index.vue",sourcesContent:["\n.tinymce-container[data-v-0178404a] {\n  position: relative\n}\n.tinymce-textarea[data-v-0178404a] {\n  visibility: hidden;\n  z-index: -1;\n}\n.editor-custom-btn-container[data-v-0178404a] {\n  position: absolute;\n  right: 15px;\n  /*z-index: 2005;*/\n  top: 18px;\n}\n.editor-upload-btn[data-v-0178404a] {\n  display: inline-block;\n}\n"],sourceRoot:""}])},446:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,".upload-container .editor-slide-upload[data-v-0424fe92]{margin-bottom:20px}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/components/Tinymce/components/editorSlide.vue"],names:[],mappings:"AACA,wDACE,kBAAoB,CACrB",file:"editorSlide.vue",sourcesContent:["\n.upload-container .editor-slide-upload[data-v-0424fe92] {\n  margin-bottom: 20px;\n}\n"],sourceRoot:""}])},451:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,"*{padding:0;margin:0}ul{list-style:none}audio{width:260px}.tool-bar{margin-top:-20px;margin-left:-20px}.el-row{margin-bottom:10px}.target-label{font-size:14px;padding:0 12px;margin:2px 0;height:35px;line-height:35px}.target-label i{margin-left:3px}.upload-file{display:inline-block;vertical-align:middle}.el-upload-dragger{height:30px}.el-upload-dragger .el-icon-upload{font-size:30px;line-height:20px;margin:3px 0}.audio-name{width:200px;vertical-align:12px}.audio-list>li{display:flex;align-items:center}.del-audio{margin-left:5px;cursor:pointer;vertical-align:10px;font-size:20px;color:#00adb5}.send-btn{margin-right:60px}.cancel-btn,.send-btn{margin-top:10px}.old-audio-name{vertical-align:10px}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/views/mail_send/index.vue"],names:[],mappings:"AACA,EACE,UAAW,AACX,QAAU,CACX,AACD,GACE,eAAiB,CAClB,AACD,MACE,WAAa,CACd,AACD,UACE,iBAAkB,AAClB,iBAAmB,CACpB,AACD,QACE,kBAAoB,CACrB,AACD,cACE,eAAgB,AAChB,eAAkB,AAClB,aAAc,AACd,YAAa,AACb,gBAAkB,CACnB,AACD,gBACE,eAAiB,CAClB,AACD,aACE,qBAAsB,AACtB,qBAAuB,CACxB,AACD,mBACE,WAAa,CACd,AACD,mCACE,eAAgB,AAChB,iBAAkB,AAClB,YAAc,CACf,AACD,YACE,YAAa,AACb,mBAAqB,CACtB,AACD,eACE,aAAc,AACd,kBAAoB,CACrB,AACD,WACE,gBAAiB,AACjB,eAAgB,AAChB,oBAAqB,AACrB,eAAgB,AAChB,aAAe,CAChB,AACD,UAEE,iBAAmB,CACpB,AACD,sBAHE,eAAiB,CAKlB,AACD,gBACE,mBAAqB,CACtB",file:"index.vue",sourcesContent:["\n* {\n  padding: 0;\n  margin: 0;\n}\nul {\n  list-style: none;\n}\naudio {\n  width: 260px;\n}\n.tool-bar {\n  margin-top: -20px;\n  margin-left: -20px;\n}\n.el-row {\n  margin-bottom: 10px;\n}\n.target-label {\n  font-size: 14px;\n  padding: 0px 12px;\n  margin: 2px 0;\n  height: 35px;\n  line-height: 35px;\n}\n.target-label i {\n  margin-left: 3px;\n}\n.upload-file {\n  display: inline-block;\n  vertical-align: middle;\n}\n.el-upload-dragger {\n  height: 30px;\n}\n.el-upload-dragger .el-icon-upload {\n  font-size: 30px;\n  line-height: 20px;\n  margin: 3px 0;\n}\n.audio-name {\n  width: 200px;\n  vertical-align: 12px;\n}\n.audio-list >li {\n  display: flex;\n  align-items: center;\n}\n.del-audio {\n  margin-left: 5px;\n  cursor: pointer;\n  vertical-align: 10px;\n  font-size: 20px;\n  color: #00adb5;\n}\n.send-btn {\n  margin-top: 10px;\n  margin-right: 60px;\n}\n.cancel-btn {\n  margin-top: 10px;\n}\n.old-audio-name {\n  vertical-align: 10px;\n}\n"],sourceRoot:""}])},454:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,".upload-container .editor-audio-upload button[data-v-3ed5c237]{float:left;margin-left:30px;margin-bottom:20px}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/components/Tinymce/components/editorAudio.vue"],names:[],mappings:"AACA,+DACE,WAAY,AACZ,iBAAkB,AAClB,kBAAoB,CACrB",file:"editorAudio.vue",sourcesContent:["\n.upload-container .editor-audio-upload button[data-v-3ed5c237] {\n  float: left;\n  margin-left: 30px;\n  margin-bottom: 20px;\n}\n"],sourceRoot:""}])},468:function(t,e,i){e=t.exports=i(307)(!0),e.push([t.i,".upload-container .editor-video-upload button[data-v-f9dd3f48]{float:left}.upload-container .image-uploader[data-v-f9dd3f48]{margin:5px auto;width:400px;height:200px;border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;line-height:200px}.upload-container .image-uploader i[data-v-f9dd3f48]{font-size:28px;color:#8c939d}.upload-container .image-uploader .image-uploader-image[data-v-f9dd3f48]{height:200px}","",{version:3,sources:["/Users/weihome/projects/vue-mail-front/src/components/Tinymce/components/editorVideo.vue"],names:[],mappings:"AACA,+DACE,UAAY,CACb,AACD,mDACE,gBAAiB,AACjB,YAAa,AACb,aAAc,AACd,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,iBAAmB,CACpB,AACD,qDACI,eAAgB,AAChB,aAAe,CAClB,AACD,yEACI,YAAc,CACjB",file:"editorVideo.vue",sourcesContent:["\n.upload-container .editor-video-upload button[data-v-f9dd3f48] {\n  float: left;\n}\n.upload-container .image-uploader[data-v-f9dd3f48] {\n  margin: 5px auto;\n  width: 400px;\n  height: 200px;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  line-height: 200px;\n}\n.upload-container .image-uploader i[data-v-f9dd3f48] {\n    font-size: 28px;\n    color: #8c939d;\n}\n.upload-container .image-uploader .image-uploader-image[data-v-f9dd3f48] {\n    height: 200px;\n}\n"],sourceRoot:""}])},526:function(t,e,i){var a=i(444);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("5ce92c88",a,!0)},527:function(t,e,i){var a=i(445);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("74b5731c",a,!0)},528:function(t,e,i){var a=i(446);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("4dc34e4e",a,!0)},533:function(t,e,i){var a=i(451);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("6371c783",a,!0)},536:function(t,e,i){var a=i(454);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("336201a8",a,!0)},550:function(t,e,i){var a=i(468);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(308)("71a0abca",a,!0)},561:function(t,e,i){function a(t){i(536)}var n=i(1)(i(414),i(580),a,"data-v-3ed5c237",null);t.exports=n.exports},562:function(t,e,i){function a(t){i(526)}var n=i(1)(i(415),i(570),a,"data-v-0172f588",null);t.exports=n.exports},563:function(t,e,i){function a(t){i(528)}var n=i(1)(i(416),i(572),a,"data-v-0424fe92",null);t.exports=n.exports},564:function(t,e,i){function a(t){i(550)}var n=i(1)(i(417),i(597),a,"data-v-f9dd3f48",null);t.exports=n.exports},565:function(t,e,i){function a(t){i(527)}var n=i(1)(i(418),i(571),a,"data-v-0178404a",null);t.exports=n.exports},570:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"upload",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n    ")]),t._v(" "),i("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://httpbin.org/post",data:t.dataObj,multiple:!0,"file-list":t.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":t.handleRemove,"on-success":t.handleImageScucess}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},571:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tinymce-container editor-container"},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.id}}),t._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[t.customButton.indexOf("editorSlide")>=0?i("editorSlide",{staticClass:"editor-upload-btn",attrs:{color:"#3A71A8"},on:{successCBK:t.slideSuccessCBK}}):t._e(),t._v(" "),t.customButton.indexOf("editorAudio")>=0?i("editorAudio",{staticClass:"editor-upload-btn",attrs:{color:"#30B08F"},on:{successCBK:t.aduioSuccessCBK}}):t._e(),t._v(" "),t.customButton.indexOf("editorVideo")>=0?i("editorVideo",{staticClass:"editor-upload-btn",attrs:{color:"#E65D6E"},on:{successCBK:t.videoSuccessCBK}}):t._e(),t._v(" "),t.customButton.indexOf("editorImage")>=0?i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#20a0ff"},on:{successCBK:t.imageSuccessCBK}}):t._e()],1)])},staticRenderFns:[]}},572:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传轮播图\n    ")]),t._v(" "),i("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://upload.qbox.me",data:t.dataObj,multiple:!0,"show-file-list":!0,"list-type":"picture-card","on-remove":t.handleRemove,"before-upload":t.beforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},577:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"app-container calendar-list-container"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:2}},[i("el-tag",{staticClass:"target-label",attrs:{color:"#36c6d3"}},[t._v("\n                收件人"),i("icon-svg",{staticClass:"add-user",attrs:{"icon-class":"add-user4"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("multiselect",{attrs:{options:t.contacts,multiple:!0,taggable:!0,"clear-on-select":!1,"hide-target":!0,placeholder:"请选择或输入联系人",label:"show","track-by":"mail"},on:{tag:t.addContact},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1),t._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"danger"},on:{click:t.cleanTarget}},[t._v("清空")])],1)],1),t._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:2}},[i("el-tag",{staticClass:"target-label",attrs:{color:"#36c6d3"}},[t._v("\n                抄送"),i("icon-svg",{staticClass:"add-user",attrs:{"icon-class":"add-user4"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("multiselect",{attrs:{options:t.contacts,multiple:!0,taggable:!0,"clear-on-select":!1,"hide-target":!0,placeholder:"请选择或输入联系人",label:"show","track-by":"mail"},on:{tag:t.addContact},model:{value:t.copy,callback:function(e){t.copy=e},expression:"copy"}})],1),t._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"danger"},on:{click:t.cleanCopy}},[t._v("清空")])],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:2}},[i("el-tag",{staticClass:"target-label",attrs:{color:"#36c6d3"}},[t._v("主题\n            ")])],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("el-input",{attrs:{placeholder:"请输入主题"},model:{value:t.mail.title,callback:function(e){t.mail.title=e},expression:"mail.title"}})],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-upload",{staticClass:"upload-file",attrs:{"before-upload":t.handleBefore,"on-preview":t.handlePreview,"on-success":t.handleSuccess,"on-remove":t.handleRemove,"show-file-list":!0,"file-list":t.mail.oldFileList,drag:"",action:"https://httpbin.org/post",multiple:""}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("i",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或\n                    "),i("em",[t._v("点击上传")])])]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:!!t.mail.oldFileList.length,expression:"!!mail.oldFileList.length"}],staticClass:"old-file-list"})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-button",{attrs:{type:"primary",disabled:t.isRecording,size:"small"},on:{click:t.startRecorder}},[t._v("开始录音")]),t._v(" "),i("el-button",{attrs:{type:"primary",disabled:!t.isRecording,size:"small"},on:{click:t.stopRecorder}},[t._v("结束录音")]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:!!t.mail.oldAudioList.length,expression:"!!mail.oldAudioList.length"}],staticClass:"old-audio-list"},t._l(t.mail.oldAudioList,function(e,a){return i("li",[i("audio",{attrs:{src:e.url,controls:""}}),t._v(" "),i("a",{staticClass:"old-audio-name",attrs:{href:e.url,download:""}},[t._v(t._s(e.name))]),t._v(" "),i("icon-svg",{staticClass:"del-audio",attrs:{"icon-class":"delete11"},nativeOn:{click:function(e){t.delOldAudio(a)}}})],1)})),t._v(" "),i("ul",{staticClass:"audio-list"},t._l(t.mail.audioList,function(e,a){return i("li",[i("audio",{attrs:{src:e.url,controls:""}}),t._v(" "),i("el-input",{staticClass:"audio-name",attrs:{size:"small"},model:{value:e.name,callback:function(t){e.name=t},expression:"audio.name"}}),t._v(" "),i("icon-svg",{staticClass:"del-audio",attrs:{"icon-class":"delete11"},nativeOn:{click:function(e){t.delAudio(a)}}})],1)}))],1)],1),t._v(" "),i("div",{staticClass:"editor-container"},[i("Tinymce",{ref:"editor",attrs:{id:t.editorId,height:t.editorHeight},model:{value:t.mail.content,callback:function(e){t.mail.content=e},expression:"mail.content"}})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12,offset:9}},[i("el-button",{attrs:{type:"primary"},on:{click:t.sendSubmit}},[t._v("发送")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveAsDraft}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]}},580:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传音频\n    ")]),t._v(" "),i("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px","label-position":"right"}},[i("el-upload",{staticClass:"editor-audio-upload",attrs:{action:"https://upload.qbox.me",data:t.dataObj,"show-file-list":!0,"file-list":t.audioList,"on-success":t.handleAudioScucess,"on-change":t.handleAudioChange,"before-upload":t.audioBeforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传音频")])],1),t._v(" "),i("el-form-item",{attrs:{prop:"url",label:"音频URL"}},[i("el-input",{model:{value:t.form.url,callback:function(e){t.form.url=e},expression:"form.url"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"title",label:"音频标题"}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.form.title=e},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"音频文本"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2}},model:{value:t.form.text,callback:function(e){t.form.text=e},expression:"form.text"}})],1)],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},597:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传视频")]),t._v(" "),i("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"140px","label-position":"left"}},[i("el-upload",{staticClass:"editor-video-upload",attrs:{action:"https://upload.qbox.me",data:t.dataObj,"show-file-list":!0,"file-list":t.videoList,"on-success":t.handleVideoScucess,"on-change":t.handleVideoChange,"before-upload":t.videoBeforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传视频")])],1),t._v(" "),i("el-form-item",{attrs:{prop:"url",label:"视频URL"}},[i("el-input",{model:{value:t.form.url,callback:function(e){t.form.url=e},expression:"form.url"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"title",label:"视频标题"}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.form.title=e},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"上传视频封面图"}}),t._v(" "),i("el-upload",{staticClass:"image-uploader",attrs:{action:"https://upload.qbox.me","show-file-list":!1,data:t.dataObj,"on-success":t.handleImageScucess,"before-upload":t.beforeImageUpload}},[t.form.image?i("img",{staticClass:"image-uploader-image",attrs:{src:t.form.image}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}}});