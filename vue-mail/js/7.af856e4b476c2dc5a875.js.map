{"version":3,"sources":["webpack:///js/7.af856e4b476c2dc5a875.js","webpack:///./src/views/mail_detail/index.vue","webpack:///./src/api/mail_detail.js?dc69","webpack:///index.vue?aa21","webpack:///./src/views/mail_detail/index.vue?2be5","webpack:///./src/views/mail_detail/index.vue?7033","webpack:///./src/views/mail_detail/index.vue?8f44"],"names":["webpackJsonp","314","module","exports","__webpack_require__","injectStyle","ssrContext","Component","348","fetchDetail","query","_fetch2","default","url","method","params","delMail","_Observable","Observable","create","observer","setTimeout","next","Object","defineProperty","value","_fetch","obj","__esModule","403","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","_mail_detail","mailDetailAPI","_mail_label","labelAPI","name","data","mail","id","title","target","copy","sender","sendMail","receiveDate","sendDate","oldFileList","oldAudioList","labelList","isStar","loading","activeGroup","mailType","mailId","created","this","initPage","computed","showMailTime","sendData","methods","getDetail","getLabelList","_this","$route","$store","getters","$router","push","then","res","_this2","fetchList","reply","isALL","commit","path","edit","forward","deleteMail","_this3","$confirm","confirmButtonText","cancelButtonText","type","subscribe","$message","message","duration","go","error","catch","delLabel","index","splice","toggleStar","_this4","handleMark","labelId","_this5","markLabel","label","filter","item","find","417","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","499","content","locals","545","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","modifiers","body","staticClass","attrs","icon","size","on","click","$event","_v","_e","icon-class","split-button","menu-align","command","slot","_l","_s","href","download","audio","class","closable","color","close-transition","close","_f","span","domProps","innerHTML","staticRenderFns"],"mappings":"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","file":"js/7.af856e4b476c2dc5a875.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(499)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(403),\n  /* template */\n  __webpack_require__(545),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fetchDetail = fetchDetail;\nexports.delMail = delMail;\n\nvar _fetch = __webpack_require__(35);\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nvar _Observable = __webpack_require__(64);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction fetchDetail(query) {\n    return (0, _fetch2.default)({\n        url: 'mail_detail',\n        method: 'get',\n        params: query\n    });\n}\n\nfunction delMail() {\n    return _Observable.Observable.create(function (observer) {\n        setTimeout(function () {\n            return observer.next();\n        }, 1000);\n    });\n}\n\n/***/ }),\n\n/***/ 403:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _mail_detail = __webpack_require__(348);\n\nvar mailDetailAPI = _interopRequireWildcard(_mail_detail);\n\nvar _mail_label = __webpack_require__(114);\n\nvar labelAPI = _interopRequireWildcard(_mail_label);\n\nvar _index = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = {\n    name: 'mail_detail',\n    data: function data() {\n        return {\n            mail: {\n                id: '',\n                title: '',\n                target: [],\n                copy: [],\n                sender: '',\n                sendMail: '',\n                receiveDate: '',\n                sendDate: '',\n                oldFileList: [],\n                oldAudioList: [],\n                labelList: [],\n                isStar: false\n            },\n            loading: true,\n            activeGroup: ['target'],\n            labelList: [],\n            mailType: '',\n            mailId: null\n        };\n    },\n    created: function created() {\n        this.initPage();\n    },\n\n    computed: {\n        showMailTime: function showMailTime() {\n            return this.mail.receiveDate || this.mail.sendData;\n        }\n    },\n    methods: {\n        initPage: function initPage() {\n            this.getDetail();\n            this.getLabelList();\n        },\n        getDetail: function getDetail() {\n            var _this = this;\n\n            this.loading = true;\n            this.mailId = this.$route.params.mailId || this.$store.getters.mailId;\n            if (!this.mailId) {\n                this.$router.push('/');\n            }\n            this.mailType = this.$store.getters.mailType;\n            var query = { mailId: this.mailId, mailType: this.mailType };\n            mailDetailAPI.fetchDetail(query).then(function (res) {\n                _this.loading = false;\n                _this.mail = res.data;\n            });\n        },\n        getLabelList: function getLabelList() {\n            var _this2 = this;\n\n            labelAPI.fetchList().then(function (res) {\n                return _this2.labelList = res.data.labelList;\n            });\n        },\n        reply: function reply(isALL) {\n            if (isALL) {\n                this.$store.commit('SET_PAGE_TYPE', 'replyAll');\n            } else {\n                this.$store.commit('SET_PAGE_TYPE', 'reply');\n            }\n            this.$store.commit('SET_MAIL_TYPE', 'receive');\n            this.$router.push({ path: '/mail_send/index' });\n        },\n        edit: function edit() {\n            this.$store.commit('SET_PAGE_TYPE', 'edit');\n            this.$store.commit('SET_MAIL_TYPE', this.mailType);\n            this.$router.push({ path: '/mail_send/index' });\n        },\n        forward: function forward() {\n            this.$store.commit('SET_PAGE_TYPE', 'forward');\n            this.$store.commit('SET_MAIL_TYPE', this.mailType);\n            this.$router.push({ path: '/mail_send/index' });\n        },\n        deleteMail: function deleteMail() {\n            var _this3 = this;\n\n            this.$confirm('是否删除这封邮件', '确认', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                mailDetailAPI.delMail().subscribe({\n                    next: function next() {\n                        _this3.$message({\n                            type: 'success',\n                            message: '删除成功',\n                            duration: 1000\n                        });\n                        setTimeout(function () {\n                            return _this3.$router.go(-1);\n                        }, 1000);\n                    },\n                    error: function error() {\n                        return _this3.$message({\n                            type: 'error',\n                            message: '删除失败'\n                        });\n                    }\n                });\n            }).catch();\n        },\n        delLabel: function delLabel(index) {\n            this.mail.labelList.splice(index, 1);\n        },\n        toggleStar: function toggleStar() {\n            var _this4 = this;\n\n            labelAPI.toggleStar([this.mail.id]).subscribe({\n                next: function next() {\n                    debugger;\n                    _this4.mail.isStar = !_this4.mail.isStar;\n                }\n            });\n        },\n        handleMark: function handleMark(labelId) {\n            var _this5 = this;\n\n            if (labelId === 'star') {\n                this.toggleStar();\n            } else {\n                labelAPI.markLabel(labelId, [this.mail.id]).subscribe({\n                    next: function next() {\n                        var label = _this5.labelList.filter(function (item) {\n                            if (item.id == labelId) return true;\n                        });\n                        if (!_this5.mail.labelList.find(function (item) {\n                            return item.id == labelId;\n                        })) {\n                            _this5.mail.labelList.push(label[0]);\n                        }\n                    }\n                });\n            }\n        }\n    }\n};\n\n/***/ }),\n\n/***/ 417:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(300)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".tool-bar{margin-top:-20px;margin-left:-20px}.mail-info{background-color:#eff2f7}.mail-info div{font-size:14px;margin:4px}.mail-info .el-tag{margin-right:6px}.title-info{padding:2px 5px}.detail-mark-star,.mail-title{font-size:18px;vertical-align:-3px}.detail-mark-star{color:#f08a5d;cursor:pointer}.label-item{margin-left:5px}.info-tag{margin-left:inherit}.target-board{display:inline-block}.send-name,.target-name{color:#1fab89;font-weight:600}.el-collapse-item__header{height:30px;line-height:30px;padding-left:0;color:#20a0ff;font-size:13px}.el-collapse-item__content{padding:2px}\", \"\", {\"version\":3,\"sources\":[\"E:/web/Vue/vue-mail-front/src/views/mail_detail/index.vue\"],\"names\":[],\"mappings\":\"AACA,UACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,WACI,wBAA0B,CAC7B,AACD,eACI,eAAgB,AAChB,UAAY,CACf,AACD,mBACI,gBAAkB,CACrB,AACD,YACI,eAAiB,CACpB,AAKD,8BAHI,eAAgB,AAChB,mBAAoB,CAOvB,AALD,kBAGI,cAAe,AACf,cAAgB,CACnB,AACD,YACI,eAAiB,CACpB,AACD,UACI,mBAAqB,CACxB,AACD,cACI,oBAAsB,CACzB,AACD,wBAEI,cAAe,AACf,eAAiB,CACpB,AACD,0BACI,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,cAAgB,CACnB,AACD,2BACI,WAAa,CAChB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.tool-bar {\\r\\n    margin-top: -20px;\\r\\n    margin-left: -20px;\\n}\\n.mail-info {\\r\\n    background-color: #EFF2F7;\\n}\\n.mail-info div {\\r\\n    font-size: 14px;\\r\\n    margin: 4px;\\n}\\n.mail-info .el-tag {\\r\\n    margin-right: 6px;\\n}\\n.title-info {\\r\\n    padding: 2px 5px;\\n}\\n.mail-title {\\r\\n    font-size: 18px;\\r\\n    vertical-align: -3px\\n}\\n.detail-mark-star {\\r\\n    font-size: 18px;\\r\\n    vertical-align: -3px;\\r\\n    color: #F08A5D;\\r\\n    cursor: pointer;\\n}\\n.label-item {\\r\\n    margin-left: 5px;\\n}\\n.info-tag {\\r\\n    margin-left: inherit;\\n}\\n.target-board {\\r\\n    display: inline-block;\\n}\\n.send-name,\\r\\n.target-name {\\r\\n    color: #1FAB89;\\r\\n    font-weight: 600;\\n}\\n.el-collapse-item__header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    padding-left: 0;\\r\\n    color: #20A0FF;\\r\\n    font-size: 13px;\\n}\\n.el-collapse-item__content {\\r\\n    padding: 2px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 499:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(417);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(301)(\"38f013de\", content, true);\n\n/***/ }),\n\n/***/ 545:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('el-row', {\n    staticClass: \"tool-bar\"\n  }, [_c('el-button-group', [(_vm.mailType === 'receive') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.reply()\n      }\n    }\n  }, [_vm._v(\"回复\")]) : _vm._e(), _vm._v(\" \"), (_vm.mailType === 'receive') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.reply(true)\n      }\n    }\n  }, [_vm._v(\"回复全部\")]) : _vm._e(), _vm._v(\" \"), (_vm.mailType === 'send') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.edit\n    }\n  }, [_vm._v(\"编辑\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"share\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.forward\n    }\n  }, [_vm._v(\"转发\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"delete\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.deleteMail\n    }\n  }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.initPage\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"reload4\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    },\n    on: {\n      \"command\": _vm.handleMark\n    }\n  }, [_vm._v(\"\\n            标记为\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, [_c('el-dropdown-item', {\n    attrs: {\n      \"command\": \"star\"\n    }\n  }, [_c('icon-svg', {\n    staticClass: \"download-icon\",\n    attrs: {\n      \"icon-class\": \"favourite\"\n    }\n  }), _vm._v(\"星标邮件\")], 1), _vm._v(\" \"), _vm._l((_vm.labelList), function(label) {\n    return _c('el-dropdown-item', {\n      key: label.id,\n      attrs: {\n        \"command\": label.id + ''\n      }\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"label1\"\n      }\n    }), _vm._v(_vm._s(label.name))], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    }\n  }, [_vm._v(\"\\n            附件\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, _vm._l((_vm.mail.oldFileList), function(file) {\n    return _c('el-dropdown-item', {\n      key: file.name\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"download3\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": file.url,\n        \"download\": \"\"\n      }\n    }, [_vm._v(_vm._s(file.name))])], 1)\n  }))], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    }\n  }, [_vm._v(\"\\n            录音\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, _vm._l((_vm.mail.oldAudioList), function(audio) {\n    return _c('el-dropdown-item', {\n      key: audio.name\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"voice4\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": audio.url,\n        \"download\": \"\"\n      }\n    }, [_vm._v(_vm._s(audio.name))])], 1)\n  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"mail-info\"\n  }, [_c('div', {\n    staticClass: \"title-info\"\n  }, [_c('span', {\n    staticClass: \"mail-title\"\n  }, [_vm._v(_vm._s(_vm.mail.title))]), _vm._v(\" \"), _c('i', {\n    staticClass: \"detail-mark-star fa\",\n    class: [_vm.mail.isStar ? 'fa-star' : 'fa-star-o'],\n    on: {\n      \"click\": function($event) {\n        _vm.toggleStar()\n      }\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.mail.labelList), function(label, index) {\n    return _c('el-tag', {\n      key: label.id,\n      staticClass: \"label-item\",\n      attrs: {\n        \"closable\": true,\n        \"color\": label.color,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.delLabel(index)\n        }\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(label.name) + \"\\n            \")])\n  })], 2), _vm._v(\" \"), _c('div', [_c('el-tag', {\n    staticClass: \"info-tag\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"发件人\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"send-name\"\n  }, [_vm._v(_vm._s(_vm.mail.sender))]), _vm._v(\"\\n            <\" + _vm._s(_vm.mail.sendMail) + \">;\\n        \")], 1), _vm._v(\" \"), _c('div', [_c('el-tag', {\n    staticClass: \"info-tag\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"时间    \")]), _vm._v(_vm._s(_vm._f(\"parseTime\")(_vm.showMailTime, ('{y}-{m}-{d} {h}:{i}'))) + \"\\n        \")], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('el-tag', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"收件人\")])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 22\n    }\n  }, _vm._l((_vm.mail.target), function(item) {\n    return _c('span', {\n      key: item.mail,\n      staticClass: \"target-item\"\n    }, [_c('span', {\n      staticClass: \"target-name\"\n    }, [_vm._v(_vm._s(item.name))]), _vm._v(\"\\n                    <\" + _vm._s(item.mail) + \">;\\n                \")])\n  }))], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('el-tag', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"抄送    \")])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 22\n    }\n  }, _vm._l((_vm.mail.copy), function(item) {\n    return _c('span', {\n      key: item.mail,\n      staticClass: \"target-item\"\n    }, [_c('span', {\n      staticClass: \"target-name\"\n    }, [_vm._v(_vm._s(item.name))]), _vm._v(\"\\n                    <\" + _vm._s(item.mail) + \">;\\n                \")])\n  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"mail-content\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.mail.content)\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/7.af856e4b476c2dc5a875.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dfc85c9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0dfc85c9\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mail_detail/index.vue\n// module id = 314\n// module chunks = 7","import fetch from 'utils/fetch';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nexport function fetchDetail(query) {\r\n    return fetch({\r\n        url: 'mail_detail',\r\n        method: 'get',\r\n        params: query\r\n    })\r\n}\r\n\r\nexport function delMail() {\r\n    return Observable.create(observer => {\r\n        setTimeout(() => observer.next(), 1000);\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/mail_detail.js","<template>\r\n    <div v-loading.body=\"loading\" class=\"app-container calendar-list-container\">\r\n        <el-row class=\"tool-bar\">\r\n            <el-button-group>\r\n                <el-button v-if=\"mailType === 'receive'\" v-waves @click=\"reply()\" type=\"primary\" icon=\"edit\" size=\"small\">回复</el-button>\r\n                <el-button v-if=\"mailType === 'receive'\" v-waves @click=\"reply(true)\" type=\"primary\" icon=\"edit\" size=\"small\">回复全部</el-button>\r\n                <el-button v-if=\"mailType === 'send'\" v-waves @click=\"edit\" type=\"primary\" icon=\"edit\" size=\"small\">编辑</el-button>\r\n                <el-button v-waves @click=\"forward\" type=\"primary\" icon=\"share\" size=\"small\">转发</el-button>\r\n                <el-button v-waves @click=\"deleteMail\" type=\"primary\" icon=\"delete\" size=\"small\">删除</el-button>\r\n                <el-button v-waves @click=\"initPage\" type=\"primary\" size=\"small\">\r\n                    <icon-svg icon-class=\"reload4\"/>\r\n                </el-button>\r\n            </el-button-group>\r\n            <el-dropdown @command=\"handleMark\" split-button type=\"primary\" size=\"small\" menu-align=\"start\">\r\n                标记为\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"star\">\r\n                         <icon-svg icon-class=\"favourite\" class=\"download-icon\" />星标邮件</el-dropdown-item>\r\n                    <el-dropdown-item v-for=\"label in labelList\" :key=\"label.id\" :command=\"label.id+''\">\r\n                        <icon-svg icon-class=\"label1\" class=\"download-icon\" />{{label.name}}</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n            <el-dropdown split-button type=\"primary\" size=\"small\" menu-align=\"start\">\r\n                附件\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item v-for=\"file in mail.oldFileList\" :key=\"file.name\">\r\n                        <icon-svg icon-class=\"download3\" class=\"download-icon\"/>\r\n                        <a :href=\"file.url\" download=\"\">{{file.name}}</a>\r\n                    </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n            <el-dropdown split-button type=\"primary\" size=\"small\" menu-align=\"start\">\r\n                录音\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item v-for=\"audio in mail.oldAudioList\" :key=\"audio.name\">\r\n                        <icon-svg icon-class=\"voice4\" class=\"download-icon\"/>\r\n                        <a :href=\"audio.url\" download=\"\">{{audio.name}}</a>\r\n                    </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </el-row>\r\n        <div class=\"mail-info\">\r\n            <div class=\"title-info\">\r\n                <span class=\"mail-title\">{{mail.title}}</span>\r\n                <i class=\"detail-mark-star fa\" @click=\"toggleStar()\" v-bind:class=\"[mail.isStar? 'fa-star':'fa-star-o']\"></i>\r\n                <el-tag v-for=\"(label, index) in mail.labelList\" :key=\"label.id\" :closable=\"true\" :color=\"label.color\" :close-transition=\"false\" @close=\"delLabel(index)\" class=\"label-item\">\r\n                    {{label.name}}\r\n                </el-tag>\r\n            </div>\r\n            <div>\r\n                <el-tag type=\"primary\" class=\"info-tag\">发件人</el-tag>\r\n                <span class=\"send-name\">{{mail.sender}}</span>\r\n                <{{mail.sendMail}}>;\r\n            </div>\r\n            <div>\r\n                <el-tag type=\"primary\" class=\"info-tag\">时间&nbsp;&nbsp;&nbsp;&nbsp;</el-tag>{{showMailTime | parseTime(('{y}-{m}-{d} {h}:{i}')) }}\r\n            </div>\r\n            <el-row>\r\n                <el-col :span=\"1\">\r\n                    <el-tag type=\"primary\">收件人</el-tag>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                    <span v-for=\"item in mail.target\" :key=\"item.mail\" class=\"target-item\">\r\n                        <span class=\"target-name\">{{item.name}}</span>\r\n                        <{{item.mail}}>;\r\n                    </span>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :span=\"1\">\r\n                    <el-tag type=\"primary\">抄送&nbsp;&nbsp;&nbsp;&nbsp;</el-tag>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                    <span v-for=\"item in mail.copy\" :key=\"item.mail\" class=\"target-item\">\r\n                        <span class=\"target-name\">{{item.name}}</span>\r\n                        <{{item.mail}}>;\r\n                    </span>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div class=\"mail-content\" v-html=\"mail.content\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as mailDetailAPI from 'api/mail_detail';\r\nimport * as labelAPI from 'api/mail_label';\r\nimport { parseTime } from 'utils/index';\r\n\r\nexport default {\r\n    name: 'mail_detail',\r\n    data() {\r\n        return {\r\n            mail: {\r\n                id: '',\r\n                title: '',\r\n                target: [],\r\n                copy: [],\r\n                sender: '',\r\n                sendMail: '',\r\n                receiveDate: '',\r\n                sendDate: '',\r\n                oldFileList: [],\r\n                oldAudioList: [],\r\n                labelList: [],\r\n                isStar: false\r\n            },\r\n            loading: true,\r\n            activeGroup: ['target'],\r\n            labelList: [],\r\n            mailType: '',\r\n            mailId: null\r\n        }\r\n    },\r\n    created() {\r\n        this.initPage();\r\n    },\r\n    computed: {\r\n        showMailTime() {\r\n            return this.mail.receiveDate || this.mail.sendData;\r\n        }\r\n    },\r\n    methods: {\r\n        initPage() {\r\n            this.getDetail();\r\n            this.getLabelList();\r\n        },\r\n        getDetail() {\r\n            this.loading = true;\r\n            this.mailId = this.$route.params.mailId || this.$store.getters.mailId;\r\n            if (!this.mailId) {\r\n                this.$router.push('/');\r\n            }\r\n            this.mailType = this.$store.getters.mailType;\r\n            const query = { mailId: this.mailId, mailType: this.mailType };\r\n            mailDetailAPI.fetchDetail(query).then(res => {\r\n                this.loading = false;\r\n                this.mail = res.data;\r\n            })\r\n        },\r\n        getLabelList() {\r\n            labelAPI.fetchList().then(res => this.labelList = res.data.labelList)\r\n        },\r\n        reply(isALL) {\r\n            if (isALL) {\r\n                this.$store.commit('SET_PAGE_TYPE', 'replyAll');\r\n            } else {\r\n                this.$store.commit('SET_PAGE_TYPE', 'reply');\r\n            }\r\n            this.$store.commit('SET_MAIL_TYPE', 'receive');\r\n            this.$router.push({ path: '/mail_send/index' });\r\n        },\r\n        edit() {\r\n            this.$store.commit('SET_PAGE_TYPE', 'edit');\r\n            this.$store.commit('SET_MAIL_TYPE', this.mailType);\r\n            this.$router.push({ path: '/mail_send/index' });\r\n        },\r\n        forward() {\r\n            this.$store.commit('SET_PAGE_TYPE', 'forward');\r\n            this.$store.commit('SET_MAIL_TYPE', this.mailType);\r\n            this.$router.push({ path: '/mail_send/index' });\r\n        },\r\n        deleteMail() {\r\n            this.$confirm('是否删除这封邮件', '确认', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                mailDetailAPI.delMail().subscribe({\r\n                    next: () => {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '删除成功',\r\n                            duration: 1000\r\n                        });\r\n                        setTimeout(() => this.$router.go(-1), 1000);\r\n                    },\r\n                    error: () => this.$message({\r\n                        type: 'error',\r\n                        message: '删除失败'\r\n                    })\r\n                })\r\n            }).catch();\r\n        },\r\n        delLabel(index) {\r\n            this.mail.labelList.splice(index, 1);\r\n        },\r\n        toggleStar() {\r\n            labelAPI.toggleStar([this.mail.id]).subscribe({\r\n                next: () => {\r\n                    debugger\r\n                    this.mail.isStar = !this.mail.isStar;\r\n                }\r\n            })\r\n        },\r\n        handleMark(labelId) {\r\n            if (labelId === 'star') {\r\n                this.toggleStar();\r\n            } else {\r\n                labelAPI.markLabel(labelId, [this.mail.id]).subscribe({\r\n                    next: () => {\r\n                        const label = this.labelList.filter(item => { if (item.id == labelId) return true })\r\n                        if (!this.mail.labelList.find(item => item.id == labelId)) {\r\n                            this.mail.labelList.push(label[0]);\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.tool-bar {\r\n    margin-top: -20px;\r\n    margin-left: -20px;\r\n}\r\n\r\n.mail-info {\r\n    background-color: #EFF2F7;\r\n}\r\n\r\n.mail-info div {\r\n    font-size: 14px;\r\n    margin: 4px;\r\n}\r\n\r\n.mail-info .el-tag {\r\n    margin-right: 6px;\r\n}\r\n\r\n.title-info {\r\n    padding: 2px 5px;\r\n}\r\n\r\n.mail-title {\r\n    font-size: 18px;\r\n    vertical-align: -3px\r\n}\r\n\r\n.detail-mark-star {\r\n    font-size: 18px;\r\n    vertical-align: -3px;\r\n    color: #F08A5D;\r\n    cursor: pointer;\r\n}\r\n\r\n.label-item {\r\n    margin-left: 5px;\r\n}\r\n\r\n.info-tag {\r\n    margin-left: inherit;\r\n}\r\n\r\n.target-board {\r\n    display: inline-block;\r\n}\r\n\r\n.send-name,\r\n.target-name {\r\n    color: #1FAB89;\r\n    font-weight: 600;\r\n}\r\n\r\n.el-collapse-item__header {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding-left: 0;\r\n    color: #20A0FF;\r\n    font-size: 13px;\r\n}\r\n\r\n.el-collapse-item__content {\r\n    padding: 2px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?5e56ea28","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".tool-bar{margin-top:-20px;margin-left:-20px}.mail-info{background-color:#eff2f7}.mail-info div{font-size:14px;margin:4px}.mail-info .el-tag{margin-right:6px}.title-info{padding:2px 5px}.detail-mark-star,.mail-title{font-size:18px;vertical-align:-3px}.detail-mark-star{color:#f08a5d;cursor:pointer}.label-item{margin-left:5px}.info-tag{margin-left:inherit}.target-board{display:inline-block}.send-name,.target-name{color:#1fab89;font-weight:600}.el-collapse-item__header{height:30px;line-height:30px;padding-left:0;color:#20a0ff;font-size:13px}.el-collapse-item__content{padding:2px}\", \"\", {\"version\":3,\"sources\":[\"E:/web/Vue/vue-mail-front/src/views/mail_detail/index.vue\"],\"names\":[],\"mappings\":\"AACA,UACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,WACI,wBAA0B,CAC7B,AACD,eACI,eAAgB,AAChB,UAAY,CACf,AACD,mBACI,gBAAkB,CACrB,AACD,YACI,eAAiB,CACpB,AAKD,8BAHI,eAAgB,AAChB,mBAAoB,CAOvB,AALD,kBAGI,cAAe,AACf,cAAgB,CACnB,AACD,YACI,eAAiB,CACpB,AACD,UACI,mBAAqB,CACxB,AACD,cACI,oBAAsB,CACzB,AACD,wBAEI,cAAe,AACf,eAAiB,CACpB,AACD,0BACI,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,cAAgB,CACnB,AACD,2BACI,WAAa,CAChB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.tool-bar {\\r\\n    margin-top: -20px;\\r\\n    margin-left: -20px;\\n}\\n.mail-info {\\r\\n    background-color: #EFF2F7;\\n}\\n.mail-info div {\\r\\n    font-size: 14px;\\r\\n    margin: 4px;\\n}\\n.mail-info .el-tag {\\r\\n    margin-right: 6px;\\n}\\n.title-info {\\r\\n    padding: 2px 5px;\\n}\\n.mail-title {\\r\\n    font-size: 18px;\\r\\n    vertical-align: -3px\\n}\\n.detail-mark-star {\\r\\n    font-size: 18px;\\r\\n    vertical-align: -3px;\\r\\n    color: #F08A5D;\\r\\n    cursor: pointer;\\n}\\n.label-item {\\r\\n    margin-left: 5px;\\n}\\n.info-tag {\\r\\n    margin-left: inherit;\\n}\\n.target-board {\\r\\n    display: inline-block;\\n}\\n.send-name,\\r\\n.target-name {\\r\\n    color: #1FAB89;\\r\\n    font-weight: 600;\\n}\\n.el-collapse-item__header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    padding-left: 0;\\r\\n    color: #20A0FF;\\r\\n    font-size: 13px;\\n}\\n.el-collapse-item__content {\\r\\n    padding: 2px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0dfc85c9\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_detail/index.vue\n// module id = 417\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dfc85c9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"38f013de\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0dfc85c9\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_detail/index.vue\n// module id = 499\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('el-row', {\n    staticClass: \"tool-bar\"\n  }, [_c('el-button-group', [(_vm.mailType === 'receive') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.reply()\n      }\n    }\n  }, [_vm._v(\"回复\")]) : _vm._e(), _vm._v(\" \"), (_vm.mailType === 'receive') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.reply(true)\n      }\n    }\n  }, [_vm._v(\"回复全部\")]) : _vm._e(), _vm._v(\" \"), (_vm.mailType === 'send') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.edit\n    }\n  }, [_vm._v(\"编辑\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"share\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.forward\n    }\n  }, [_vm._v(\"转发\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"delete\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.deleteMail\n    }\n  }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.initPage\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"reload4\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    },\n    on: {\n      \"command\": _vm.handleMark\n    }\n  }, [_vm._v(\"\\n            标记为\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, [_c('el-dropdown-item', {\n    attrs: {\n      \"command\": \"star\"\n    }\n  }, [_c('icon-svg', {\n    staticClass: \"download-icon\",\n    attrs: {\n      \"icon-class\": \"favourite\"\n    }\n  }), _vm._v(\"星标邮件\")], 1), _vm._v(\" \"), _vm._l((_vm.labelList), function(label) {\n    return _c('el-dropdown-item', {\n      key: label.id,\n      attrs: {\n        \"command\": label.id + ''\n      }\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"label1\"\n      }\n    }), _vm._v(_vm._s(label.name))], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    }\n  }, [_vm._v(\"\\n            附件\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, _vm._l((_vm.mail.oldFileList), function(file) {\n    return _c('el-dropdown-item', {\n      key: file.name\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"download3\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": file.url,\n        \"download\": \"\"\n      }\n    }, [_vm._v(_vm._s(file.name))])], 1)\n  }))], 1), _vm._v(\" \"), _c('el-dropdown', {\n    attrs: {\n      \"split-button\": \"\",\n      \"type\": \"primary\",\n      \"size\": \"small\",\n      \"menu-align\": \"start\"\n    }\n  }, [_vm._v(\"\\n            录音\\n            \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, _vm._l((_vm.mail.oldAudioList), function(audio) {\n    return _c('el-dropdown-item', {\n      key: audio.name\n    }, [_c('icon-svg', {\n      staticClass: \"download-icon\",\n      attrs: {\n        \"icon-class\": \"voice4\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": audio.url,\n        \"download\": \"\"\n      }\n    }, [_vm._v(_vm._s(audio.name))])], 1)\n  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"mail-info\"\n  }, [_c('div', {\n    staticClass: \"title-info\"\n  }, [_c('span', {\n    staticClass: \"mail-title\"\n  }, [_vm._v(_vm._s(_vm.mail.title))]), _vm._v(\" \"), _c('i', {\n    staticClass: \"detail-mark-star fa\",\n    class: [_vm.mail.isStar ? 'fa-star' : 'fa-star-o'],\n    on: {\n      \"click\": function($event) {\n        _vm.toggleStar()\n      }\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.mail.labelList), function(label, index) {\n    return _c('el-tag', {\n      key: label.id,\n      staticClass: \"label-item\",\n      attrs: {\n        \"closable\": true,\n        \"color\": label.color,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.delLabel(index)\n        }\n      }\n    }, [_vm._v(\"\\n                \" + _vm._s(label.name) + \"\\n            \")])\n  })], 2), _vm._v(\" \"), _c('div', [_c('el-tag', {\n    staticClass: \"info-tag\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"发件人\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"send-name\"\n  }, [_vm._v(_vm._s(_vm.mail.sender))]), _vm._v(\"\\n            <\" + _vm._s(_vm.mail.sendMail) + \">;\\n        \")], 1), _vm._v(\" \"), _c('div', [_c('el-tag', {\n    staticClass: \"info-tag\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"时间    \")]), _vm._v(_vm._s(_vm._f(\"parseTime\")(_vm.showMailTime, ('{y}-{m}-{d} {h}:{i}'))) + \"\\n        \")], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('el-tag', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"收件人\")])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 22\n    }\n  }, _vm._l((_vm.mail.target), function(item) {\n    return _c('span', {\n      key: item.mail,\n      staticClass: \"target-item\"\n    }, [_c('span', {\n      staticClass: \"target-name\"\n    }, [_vm._v(_vm._s(item.name))]), _vm._v(\"\\n                    <\" + _vm._s(item.mail) + \">;\\n                \")])\n  }))], 1), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 1\n    }\n  }, [_c('el-tag', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"抄送    \")])], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 22\n    }\n  }, _vm._l((_vm.mail.copy), function(item) {\n    return _c('span', {\n      key: item.mail,\n      staticClass: \"target-item\"\n    }, [_c('span', {\n      staticClass: \"target-name\"\n    }, [_vm._v(_vm._s(item.name))]), _vm._v(\"\\n                    <\" + _vm._s(item.mail) + \">;\\n                \")])\n  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"mail-content\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.mail.content)\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0dfc85c9\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mail_detail/index.vue\n// module id = 545\n// module chunks = 7"],"sourceRoot":""}