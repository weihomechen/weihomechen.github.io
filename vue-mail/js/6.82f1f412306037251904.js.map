{"version":3,"sources":["webpack:///js/6.82f1f412306037251904.js","webpack:///./src/views/mail_list/index.vue","webpack:///index.vue?1437","webpack:///./src/api/mail_list.js","webpack:///./src/views/mail_list/index.vue?a5c5","webpack:///./src/views/mail_list/index.vue?a6f3","webpack:///./src/views/mail_list/index.vue?36d5"],"names":["webpackJsonp","316","module","exports","__webpack_require__","injectStyle","ssrContext","Component","405","Object","defineProperty","value","_assign","_assign2","obj","__esModule","default","_mail_list","mailListAPI","newObj","key","prototype","hasOwnProperty","call","_utils","name","data","list","total","listLoading","listQuery","page","limit","title","type","startDate","stopDate","sort","order","routeQuery","dateRange","multipleSelection","typeOptions","showValue","dateOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","searchType","created","this","$route","params","labelId","getList","filters","typeFilter","receive","send","typeShowFilter","methods","_this","meta","fetchList","then","res","items","goToDetail","row","$store","commit","id","$router","push","path","handleFilter","handleSizeChange","val","handleCurrentChange","customSort","sortObj","prop","forward","length","$message","handleSelectionChange","handleDelete","_this2","selectedLen","$confirm","confirmButtonText","cancelButtonText","idArr","forEach","item","delMail","subscribe","next","message","duration","error","showClose","catch","unDeleted","_this3","unDoDelMail","handleDownload","_this4","e","_require","export_json_to_excel","tHeader","filterVal","formatJson","parseTime","now","bind","oe","jsonData","map","v","j","indexOf","409","query","_fetch2","url","method","idStr","String","console","log","_Observable","Observable","create","observer","setTimeout","_fetch","422","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","504","content","locals","550","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","attrs","on","click","icon-class","_e","_v","icon","$event","staticStyle","width","placeholder","nativeOn","keyup","_k","keyCode","model","callback","$$v","expression","clearable","_l","label","picker-options","align","modifiers","body","ref","border","highlight-current-row","sort-change","selection-change","min-width","scopedSlots","_u","fn","scope","isStar","toggleStar","class-name","_f","_s","effect","sendMail","placement","sendName","show-overflow-tooltip","guid","sortable","date","current-page","page-sizes","page-size","layout","size-change","current-change","update:currentPage","staticRenderFns"],"mappings":"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","file":"js/6.82f1f412306037251904.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(504)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(405),\n  /* template */\n  __webpack_require__(550),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 405:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(65);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _mail_list = __webpack_require__(409);\n\nvar mailListAPI = _interopRequireWildcard(_mail_list);\n\nvar _utils = __webpack_require__(9);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'mail_list',\n    data: function data() {\n        return {\n            list: [],\n            total: 0,\n            listLoading: false,\n            listQuery: {\n                page: 1,\n                limit: 20,\n                title: '',\n                type: '',\n                startDate: null,\n                stopDate: null,\n                sort: '',\n                order: '',\n                routeQuery: {}\n            },\n            dateRange: [],\n            multipleSelection: [],\n            typeOptions: [{\n                value: 'receive',\n                showValue: '收件'\n            }, {\n                value: 'send',\n                showValue: '发件'\n            }],\n            dateOptions: {\n                shortcuts: [{\n                    text: '最近一周',\n                    onClick: function onClick(picker) {\n                        var end = new Date();\n                        var start = new Date();\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                        picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近一个月',\n                    onClick: function onClick(picker) {\n                        var end = new Date();\n                        var start = new Date();\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                        picker.$emit('pick', [start, end]);\n                    }\n                }, {\n                    text: '最近三个月',\n                    onClick: function onClick(picker) {\n                        var end = new Date();\n                        var start = new Date();\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                        picker.$emit('pick', [start, end]);\n                    }\n                }]\n            },\n            searchType: null\n        };\n    },\n    created: function created() {\n        this.searchType = this.$route.params.labelId ? 'labelId' : 'deleted';\n        this.getList();\n    },\n\n    filters: {\n        typeFilter: function typeFilter(type) {\n            var typeMap = {\n                receive: 'primary',\n                send: 'success'\n            };\n            return typeMap[type];\n        },\n        typeShowFilter: function typeShowFilter(type) {\n            var typeShowMap = {\n                receive: '收件',\n                send: '发件'\n            };\n            return typeShowMap[type];\n        }\n    },\n    methods: {\n        getList: function getList() {\n            var _this = this;\n\n            this.listQuery.startDate = this.dateRange[0] ? this.dateRange[0].getTime() : null;\n            this.listQuery.stopDate = this.dateRange[1] ? this.dateRange[1].getTime() : null;\n            (0, _assign2.default)(this.listQuery.routeQuery, this.$route.params, this.$route.meta);\n            mailListAPI.fetchList(this.listQuery).then(function (res) {\n                _this.list = res.data.items;\n                _this.total = res.data.total;\n            });\n        },\n        goToDetail: function goToDetail(row) {\n            this.$store.commit('SET_MAIL_ID', row.id);\n            this.$store.commit('SET_MAIL_TYPE', row.type);\n            this.$router.push({ path: '/mail_detail/index' });\n        },\n        handleFilter: function handleFilter() {\n            this.getList();\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            this.listQuery.limit = val;\n            this.getList();\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.listQuery.page = val;\n            this.getList();\n        },\n        customSort: function customSort(sortObj) {\n            this.listQuery.sort = sortObj.prop;\n            this.listQuery.order = sortObj.order;\n            this.getList();\n        },\n        forward: function forward() {\n            var selectedLen = this.multipleSelection.length || 0;\n            if (selectedLen !== 1) {\n                this.$message('请选择一封邮件进行转发');\n                return;\n            }\n            this.$store.commit('SET_MAIL_ID', this.multipleSelection[0].id);\n            this.$store.commit('SET_PAGE_TYPE', 'forward');\n            this.$store.commit('SET_MAIL_TYPE', this.multipleSelection[0].type);\n            this.$router.push({ path: '/mail_send/index' });\n        },\n        handleSelectionChange: function handleSelectionChange(val) {\n            this.multipleSelection = val;\n        },\n        handleDelete: function handleDelete() {\n            var _this2 = this;\n\n            var selectedLen = this.multipleSelection.length || 0;\n            if (selectedLen < 1) {\n                this.$message('请选择邮件进行删除');\n                return;\n            }\n            this.$confirm('是否删除这' + selectedLen + '封邮件?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                var idArr = [];\n                _this2.multipleSelection.forEach(function (item) {\n                    return idArr.push(item.id);\n                });\n\n                mailListAPI.delMail(idArr).subscribe({\n                    next: function next() {\n                        _this2.$message({\n                            message: '删除成功',\n                            type: 'success',\n                            duration: 2000\n                        });\n                        _this2.getList();\n                    },\n                    error: function error() {\n                        return _this2.$message({\n                            showClose: true,\n                            message: '删除失败',\n                            type: 'error'\n                        });\n                    }\n                });\n            }).catch(function () {\n                _this2.$message('操作已取消');\n            });\n        },\n        unDeleted: function unDeleted() {\n            var _this3 = this;\n\n            var selectedLen = this.multipleSelection.length || 0;\n            if (selectedLen < 1) {\n                this.$message('请选择邮件撤销删除');\n                return;\n            }\n            var idArr = [];\n            this.multipleSelection.forEach(function (item) {\n                return idArr.push(item.id);\n            });\n\n            mailListAPI.unDoDelMail(idArr).subscribe({\n                next: function next() {\n                    _this3.$message({\n                        message: '撤销删除成功',\n                        type: 'success',\n                        duration: 2000\n                    });\n                    _this3.getList();\n                },\n                error: function error() {\n                    return _this3.$message({\n                        showClose: true,\n                        message: '撤销删除失败',\n                        type: 'error'\n                    });\n                }\n            });\n        },\n        handleDownload: function handleDownload() {\n            var _this4 = this;\n\n            __webpack_require__.e/* require.ensure */(19/* duplicate */).then((function () {\n                var _require = __webpack_require__(334),\n                    export_json_to_excel = _require.export_json_to_excel;\n\n                var tHeader = ['发件人', '发件邮箱', '主题', '时间'];\n                var filterVal = ['sendName', 'sendMail', 'title', 'date'];\n                var data = _this4.formatJson(filterVal, _this4.list);\n                export_json_to_excel(tHeader, data, (0, _utils.parseTime)(Date.now()) + '邮件列表数据');\n            }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n        },\n        formatJson: function formatJson(filterVal, jsonData) {\n            return jsonData.map(function (v) {\n                return filterVal.map(function (j) {\n                    if (~j.indexOf('date')) {\n                        return (0, _utils.parseTime)(v[j]);\n                    } else {\n                        return v[j];\n                    }\n                });\n            });\n        }\n    }\n};\n\n/***/ }),\n\n/***/ 409:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fetchList = fetchList;\nexports.delMail = delMail;\nexports.unDoDelMail = unDoDelMail;\n\nvar _fetch = __webpack_require__(35);\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nvar _Observable = __webpack_require__(64);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction fetchList(query) {\n    return (0, _fetch2.default)({\n        url: '/mail_list',\n        method: 'get',\n        params: query\n    });\n}\n\nfunction delMail(idArr) {\n    var idStr = String(idArr);\n    console.log('要删除的邮件id:' + idStr);\n    return _Observable.Observable.create(function (observer) {\n        setTimeout(function () {\n            observer.next(true);\n        }, 500);\n    });\n}\n\nfunction unDoDelMail(idArr) {\n    var idStr = String(idArr);\n    console.log('要撤销删除的邮件id:' + idStr);\n    return _Observable.Observable.create(function (observer) {\n        setTimeout(function () {\n            observer.next(true);\n        }, 500);\n    });\n}\n\n/***/ }),\n\n/***/ 422:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(300)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".star{color:#f08a5d}\", \"\", {\"version\":3,\"sources\":[\"E:/web/Vue/vue-mail-front/src/views/mail_list/index.vue\"],\"names\":[],\"mappings\":\"AACA,MACI,aAAc,CACjB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.star {\\r\\n    color: #F08A5D\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 504:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(422);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(301)(\"002b95c2\", content, true);\n\n/***/ }),\n\n/***/ 550:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('div', {\n    staticClass: \"filter-container\"\n  }, [(_vm.searchType === 'deleted') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-add\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.unDeleted\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"undo\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-forward\",\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"share\"\n    },\n    on: {\n      \"click\": _vm.forward\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-del\",\n    attrs: {\n      \"type\": \"danger\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleDelete()\n      }\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-reload\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.getList\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"reload4\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    staticClass: \"filter-item\",\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"placeholder\": \"标题\"\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleFilter($event)\n      }\n    },\n    model: {\n      value: (_vm.listQuery.title),\n      callback: function($$v) {\n        _vm.listQuery.title = $$v\n      },\n      expression: \"listQuery.title\"\n    }\n  }), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"filter-item\",\n    staticStyle: {\n      \"width\": \"90px\"\n    },\n    attrs: {\n      \"clearable\": \"\",\n      \"placeholder\": \"类型\"\n    },\n    model: {\n      value: (_vm.listQuery.type),\n      callback: function($$v) {\n        _vm.listQuery.type = $$v\n      },\n      expression: \"listQuery.type\"\n    }\n  }, _vm._l((_vm.typeOptions), function(type) {\n    return _c('el-option', {\n      key: type.value,\n      attrs: {\n        \"label\": type.showValue,\n        \"value\": type.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"tool-item filter-item\",\n    attrs: {\n      \"type\": \"datetimerange\",\n      \"picker-options\": _vm.dateOptions,\n      \"placeholder\": \"选择时间范围\",\n      \"align\": \"right\"\n    },\n    model: {\n      value: (_vm.dateRange),\n      callback: function($$v) {\n        _vm.dateRange = $$v\n      },\n      expression: \"dateRange\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"filter-item\",\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.handleFilter\n    }\n  }, [_vm._v(\"搜索\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"filter-item\",\n    attrs: {\n      \"type\": \"text\",\n      \"icon\": \"document\"\n    },\n    on: {\n      \"click\": _vm.handleDownload\n    }\n  }, [_vm._v(\"导出\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"border\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"sort-change\": _vm.customSort,\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"min-width\": \"30px\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"left\",\n      \"width\": \"90px\",\n      \"label\": \"信息\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('icon-svg', {\n          staticClass: \"star\",\n          attrs: {\n            \"icon-class\": scope.row.isStar ? 'favourite' : 'favourite-o'\n          },\n          nativeOn: {\n            \"click\": function($event) {\n              _vm.toggleStar(scope.row)\n            }\n          }\n        }), _vm._v(\" \"), (scope.row.isHaveFile) ? _c('icon-svg', {\n          staticClass: \"file\",\n          attrs: {\n            \"icon-class\": \"label4\"\n          }\n        }) : _vm._e(), _vm._v(\" \"), (scope.row.isHaveAudio) ? _c('icon-svg', {\n          attrs: {\n            \"icon-class\": \"voice4\"\n          }\n        }) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"class-name\": \"status-col\",\n      \"label\": \"类型\",\n      \"width\": \"90px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tag', {\n          attrs: {\n            \"type\": _vm._f(\"typeFilter\")(scope.row.type)\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"typeShowFilter\")(scope.row.type)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"发件人\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tooltip', {\n          staticClass: \"item\",\n          attrs: {\n            \"effect\": \"dark\",\n            \"content\": scope.row.sendMail,\n            \"placement\": \"top\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(scope.row.sendName))])])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"主题\",\n      \"show-overflow-tooltip\": true,\n      \"min-width\": \"500px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', {\n          staticClass: \"link-type\",\n          on: {\n            \"click\": function($event) {\n              _vm.goToDetail(scope.row)\n            }\n          }\n        }, [_vm._v(_vm._s(scope.row.title))]), _vm._v(\" \"), _vm._l((scope.row.labelList), function(label) {\n          return _c('el-tag', {\n            key: label.guid\n          }, [_vm._v(_vm._s(label.name))])\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"date\",\n      \"sortable\": \"custom\",\n      \"align\": \"center\",\n      \"label\": \"时间\",\n      \"width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.date, '{y}-{m}-{d} {h}:{i}')))])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.listLoading),\n      expression: \"!listLoading\"\n    }],\n    staticClass: \"pagination-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.listQuery.page,\n      \"page-sizes\": [10, 20, 30, 50],\n      \"page-size\": _vm.listQuery.limit,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.listQuery.page = $event\n      }\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/6.82f1f412306037251904.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31542516\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31542516\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mail_list/index.vue\n// module id = 316\n// module chunks = 6","<template>\r\n    <div class=\"app-container calendar-list-container\">\r\n    \r\n        <div class=\"filter-container\">\r\n    \r\n            <el-button v-if=\"searchType === 'deleted'\" v-waves @click=\"unDeleted\" type=\"primary\" class=\"tool-item filter-item btn-add\">\r\n                <icon-svg icon-class=\"undo\" />\r\n            </el-button>\r\n            <el-button v-waves @click=\"forward\" type=\"primary\" icon=\"share\" class=\"tool-item filter-item btn-forward\"></el-button>\r\n            <el-button v-waves type=\"danger\" icon=\"delete\" class=\"tool-item filter-item btn-del\" v-on:click=\"handleDelete()\"></el-button>\r\n            <el-button v-waves type=\"primary\" class=\"tool-item filter-item btn-reload\" v-on:click=\"getList\">\r\n                <icon-svg icon-class=\"reload4\" />\r\n            </el-button>\r\n            <el-input @keyup.enter.native=\"handleFilter\" style=\"width: 200px;\" class=\"filter-item\" placeholder=\"标题\" v-model=\"listQuery.title\">\r\n            </el-input>\r\n    \r\n            <el-select clearable style=\"width: 90px\" class=\"filter-item\" v-model=\"listQuery.type\" placeholder=\"类型\">\r\n                <el-option v-for=\"type in typeOptions\" :key=\"type.value\" :label=\"type.showValue\" :value=\"type.value\">\r\n                </el-option>\r\n            </el-select>\r\n    \r\n            <el-date-picker v-model=\"dateRange\" type=\"datetimerange\" :picker-options=\"dateOptions\" placeholder=\"选择时间范围\" align=\"right\" class=\"tool-item filter-item\">\r\n            </el-date-picker>\r\n    \r\n            <el-button class=\"filter-item\" type=\"primary\" v-waves icon=\"search\" @click=\"handleFilter\">搜索</el-button>\r\n            <el-button class=\"filter-item\" type=\"text\" icon=\"document\" @click=\"handleDownload\">导出</el-button>\r\n        </div>\r\n    \r\n        <el-table :data=\"list\" ref=\"multipleTable\" @sort-change=\"customSort\" @selection-change=\"handleSelectionChange\" v-loading.body=\"listLoading\" border highlight-current-row style=\"width: 100%\">\r\n    \r\n            <el-table-column type=\"selection\" min-width=\"30px\">\r\n            </el-table-column>\r\n    \r\n            <el-table-column align=\"left\" width=\"90px\" label=\"信息\">\r\n                <template scope=\"scope\">\r\n                    <icon-svg @click.native=\"toggleStar(scope.row)\" :icon-class=\"scope.row.isStar? 'favourite':'favourite-o'\" class=\"star\" />\r\n                    <icon-svg v-if=\"scope.row.isHaveFile\" icon-class=\"label4\" class=\"file\" />\r\n                    <icon-svg v-if=\"scope.row.isHaveAudio\" icon-class=\"voice4\" />\r\n                </template>\r\n            </el-table-column>\r\n    \r\n            <el-table-column class-name=\"status-col\" label=\"类型\" width=\"90px\">\r\n                <template scope=\"scope\">\r\n                    <el-tag :type=\"scope.row.type | typeFilter\">{{scope.row.type | typeShowFilter}}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n    \r\n            <el-table-column align=\"center\" label=\"发件人\">\r\n                <template scope=\"scope\">\r\n                    <el-tooltip class=\"item\" effect=\"dark\" :content=\"scope.row.sendMail\" placement=\"top\">\r\n                        <span>{{scope.row.sendName}}</span>\r\n                    </el-tooltip>\r\n                </template>\r\n            </el-table-column>\r\n    \r\n            <el-table-column label=\"主题\" :show-overflow-tooltip=\"true\" min-width=\"500px\">\r\n                <template scope=\"scope\">\r\n                    <span class=\"link-type\" @click=\"goToDetail(scope.row)\">{{scope.row.title}}</span>\r\n                    <el-tag v-for=\"label in scope.row.labelList\" :key=\"label.guid\">{{label.name}}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n    \r\n            <el-table-column prop=\"date\" sortable=\"custom\" align=\"center\" label=\"时间\" width=\"200px\">\r\n                <template scope=\"scope\">\r\n                    <span>{{scope.row.date | parseTime('{y}-{m}-{d} {h}:{i}')}}</span>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    \r\n        <div v-show=\"!listLoading\" class=\"pagination-container\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"listQuery.page\" :page-sizes=\"[10,20,30, 50]\" :page-size=\"listQuery.limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n    \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as mailListAPI from 'api/mail_list';\r\nimport { parseTime } from 'utils';\r\n\r\nexport default {\r\n    name: 'mail_list',\r\n    data() {\r\n        return {\r\n            list: [],\r\n            total: 0,\r\n            listLoading: false,\r\n            listQuery: {\r\n                page: 1,\r\n                limit: 20,\r\n                title: '',\r\n                type: '',\r\n                startDate: null,\r\n                stopDate: null,\r\n                sort: '',\r\n                order: '',\r\n                routeQuery: {}\r\n            },\r\n            dateRange: [],\r\n            multipleSelection: [],\r\n            typeOptions: [\r\n                {\r\n                    value: 'receive',\r\n                    showValue: '收件'\r\n                },\r\n                {\r\n                    value: 'send',\r\n                    showValue: '发件'\r\n                }\r\n            ],\r\n            dateOptions: {\r\n                shortcuts: [{\r\n                    text: '最近一周',\r\n                    onClick(picker) {\r\n                        const end = new Date();\r\n                        const start = new Date();\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                        picker.$emit('pick', [start, end]);\r\n                    }\r\n                }, {\r\n                    text: '最近一个月',\r\n                    onClick(picker) {\r\n                        const end = new Date();\r\n                        const start = new Date();\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                        picker.$emit('pick', [start, end]);\r\n                    }\r\n                }, {\r\n                    text: '最近三个月',\r\n                    onClick(picker) {\r\n                        const end = new Date();\r\n                        const start = new Date();\r\n                        start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                        picker.$emit('pick', [start, end]);\r\n                    }\r\n                }]\r\n            },\r\n            searchType: null\r\n        }\r\n    },\r\n    created() {\r\n        this.searchType = this.$route.params.labelId ? 'labelId' : 'deleted';\r\n        this.getList();\r\n    },\r\n    filters: {\r\n        typeFilter(type) {\r\n            const typeMap = {\r\n                receive: 'primary',\r\n                send: 'success'\r\n            };\r\n            return typeMap[type];\r\n        },\r\n        typeShowFilter(type) {\r\n            const typeShowMap = {\r\n                receive: '收件',\r\n                send: '发件'\r\n            };\r\n            return typeShowMap[type];\r\n        }\r\n    },\r\n    methods: {\r\n        getList() {\r\n            this.listQuery.startDate = this.dateRange[0] ? this.dateRange[0].getTime() : null;\r\n            this.listQuery.stopDate = this.dateRange[1] ? this.dateRange[1].getTime() : null;\r\n            Object.assign(this.listQuery.routeQuery, this.$route.params, this.$route.meta);\r\n            mailListAPI.fetchList(this.listQuery).then(res => {\r\n                this.list = res.data.items;\r\n                this.total = res.data.total;\r\n            })\r\n        },\r\n        goToDetail(row) {\r\n            this.$store.commit('SET_MAIL_ID', row.id);\r\n            this.$store.commit('SET_MAIL_TYPE', row.type);\r\n            this.$router.push({ path: '/mail_detail/index' });\r\n        },\r\n        handleFilter() {\r\n            this.getList();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.listQuery.limit = val;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.listQuery.page = val;\r\n            this.getList();\r\n        },\r\n        customSort(sortObj) {\r\n            this.listQuery.sort = sortObj.prop;\r\n            this.listQuery.order = sortObj.order;\r\n            this.getList();\r\n        },\r\n        forward() {\r\n            const selectedLen = this.multipleSelection.length || 0;\r\n            if (selectedLen !== 1) {\r\n                this.$message('请选择一封邮件进行转发');\r\n                return;\r\n            }\r\n            this.$store.commit('SET_MAIL_ID', this.multipleSelection[0].id);\r\n            this.$store.commit('SET_PAGE_TYPE', 'forward');\r\n            this.$store.commit('SET_MAIL_TYPE', this.multipleSelection[0].type);\r\n            this.$router.push({ path: '/mail_send/index' });\r\n        },\r\n        handleSelectionChange(val) {\r\n            this.multipleSelection = val;\r\n        },\r\n        handleDelete() {\r\n            const selectedLen = this.multipleSelection.length || 0;\r\n            if (selectedLen < 1) {\r\n                this.$message('请选择邮件进行删除');\r\n                return;\r\n            }\r\n            this.$confirm('是否删除这' + selectedLen + '封邮件?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                const idArr = [];\r\n                this.multipleSelection.forEach(item => idArr.push(item.id));\r\n                // 删除的时候业务可能要求带上类型，类型在multipleSelection.type\r\n                mailListAPI.delMail(idArr).subscribe({\r\n                    next: () => {\r\n                        this.$message({\r\n                            message: '删除成功',\r\n                            type: 'success',\r\n                            duration: 2000\r\n                        });\r\n                        this.getList();\r\n                    },\r\n                    error: () => this.$message({\r\n                        showClose: true,\r\n                        message: '删除失败',\r\n                        type: 'error'\r\n                    })\r\n                });\r\n            }).catch(() => {\r\n                this.$message('操作已取消');\r\n            });\r\n        },\r\n        unDeleted() {\r\n            const selectedLen = this.multipleSelection.length || 0;\r\n            if (selectedLen < 1) {\r\n                this.$message('请选择邮件撤销删除');\r\n                return;\r\n            }\r\n            const idArr = [];\r\n            this.multipleSelection.forEach(item => idArr.push(item.id));\r\n            // 业务可能要求带上类型，类型在multipleSelection.type\r\n            mailListAPI.unDoDelMail(idArr).subscribe({\r\n                next: () => {\r\n                    this.$message({\r\n                        message: '撤销删除成功',\r\n                        type: 'success',\r\n                        duration: 2000\r\n                    });\r\n                    this.getList();\r\n                },\r\n                error: () => this.$message({\r\n                    showClose: true,\r\n                    message: '撤销删除失败',\r\n                    type: 'error'\r\n                })\r\n            });\r\n        },\r\n        handleDownload() {\r\n            require.ensure([], () => {\r\n                const { export_json_to_excel } = require('vendor/Export2Excel');\r\n                const tHeader = ['发件人', '发件邮箱', '主题', '时间'];\r\n                const filterVal = ['sendName', 'sendMail', 'title', 'date'];\r\n                const data = this.formatJson(filterVal, this.list);\r\n                export_json_to_excel(tHeader, data, parseTime(Date.now()) + '邮件列表数据');\r\n            })\r\n        },\r\n        formatJson(filterVal, jsonData) {\r\n            return jsonData.map(v => filterVal.map(j => {\r\n                if (~j.indexOf('date')) {\r\n                    return parseTime(v[j])\r\n                } else {\r\n                    return v[j]\r\n                }\r\n            }))\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.star {\r\n    color: #F08A5D\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?47066db6","import fetch from 'utils/fetch';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nexport function fetchList(query) {\r\n    return fetch({\r\n        url: '/mail_list',\r\n        method: 'get',\r\n        params: query\r\n    });\r\n}\r\n\r\nexport function delMail(idArr) {\r\n    const idStr = String(idArr);\r\n    console.log('要删除的邮件id:' + idStr);\r\n    return Observable.create(observer => {\r\n        setTimeout(() => { observer.next(true); }, 500);\r\n    });\r\n}\r\n\r\nexport function unDoDelMail(idArr) {\r\n    const idStr = String(idArr);\r\n    console.log('要撤销删除的邮件id:' + idStr);\r\n    return Observable.create(observer => {\r\n        setTimeout(() => { observer.next(true); }, 500);\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mail_list.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".star{color:#f08a5d}\", \"\", {\"version\":3,\"sources\":[\"E:/web/Vue/vue-mail-front/src/views/mail_list/index.vue\"],\"names\":[],\"mappings\":\"AACA,MACI,aAAc,CACjB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.star {\\r\\n    color: #F08A5D\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-31542516\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_list/index.vue\n// module id = 422\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31542516\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"002b95c2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-31542516\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/mail_list/index.vue\n// module id = 504\n// module chunks = 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container calendar-list-container\"\n  }, [_c('div', {\n    staticClass: \"filter-container\"\n  }, [(_vm.searchType === 'deleted') ? _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-add\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.unDeleted\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"undo\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-forward\",\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"share\"\n    },\n    on: {\n      \"click\": _vm.forward\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-del\",\n    attrs: {\n      \"type\": \"danger\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleDelete()\n      }\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"tool-item filter-item btn-reload\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.getList\n    }\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"reload4\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    staticClass: \"filter-item\",\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"placeholder\": \"标题\"\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleFilter($event)\n      }\n    },\n    model: {\n      value: (_vm.listQuery.title),\n      callback: function($$v) {\n        _vm.listQuery.title = $$v\n      },\n      expression: \"listQuery.title\"\n    }\n  }), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"filter-item\",\n    staticStyle: {\n      \"width\": \"90px\"\n    },\n    attrs: {\n      \"clearable\": \"\",\n      \"placeholder\": \"类型\"\n    },\n    model: {\n      value: (_vm.listQuery.type),\n      callback: function($$v) {\n        _vm.listQuery.type = $$v\n      },\n      expression: \"listQuery.type\"\n    }\n  }, _vm._l((_vm.typeOptions), function(type) {\n    return _c('el-option', {\n      key: type.value,\n      attrs: {\n        \"label\": type.showValue,\n        \"value\": type.value\n      }\n    })\n  })), _vm._v(\" \"), _c('el-date-picker', {\n    staticClass: \"tool-item filter-item\",\n    attrs: {\n      \"type\": \"datetimerange\",\n      \"picker-options\": _vm.dateOptions,\n      \"placeholder\": \"选择时间范围\",\n      \"align\": \"right\"\n    },\n    model: {\n      value: (_vm.dateRange),\n      callback: function($$v) {\n        _vm.dateRange = $$v\n      },\n      expression: \"dateRange\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"waves\",\n      rawName: \"v-waves\"\n    }],\n    staticClass: \"filter-item\",\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.handleFilter\n    }\n  }, [_vm._v(\"搜索\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"filter-item\",\n    attrs: {\n      \"type\": \"text\",\n      \"icon\": \"document\"\n    },\n    on: {\n      \"click\": _vm.handleDownload\n    }\n  }, [_vm._v(\"导出\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.list,\n      \"border\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"sort-change\": _vm.customSort,\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"min-width\": \"30px\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"left\",\n      \"width\": \"90px\",\n      \"label\": \"信息\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('icon-svg', {\n          staticClass: \"star\",\n          attrs: {\n            \"icon-class\": scope.row.isStar ? 'favourite' : 'favourite-o'\n          },\n          nativeOn: {\n            \"click\": function($event) {\n              _vm.toggleStar(scope.row)\n            }\n          }\n        }), _vm._v(\" \"), (scope.row.isHaveFile) ? _c('icon-svg', {\n          staticClass: \"file\",\n          attrs: {\n            \"icon-class\": \"label4\"\n          }\n        }) : _vm._e(), _vm._v(\" \"), (scope.row.isHaveAudio) ? _c('icon-svg', {\n          attrs: {\n            \"icon-class\": \"voice4\"\n          }\n        }) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"class-name\": \"status-col\",\n      \"label\": \"类型\",\n      \"width\": \"90px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tag', {\n          attrs: {\n            \"type\": _vm._f(\"typeFilter\")(scope.row.type)\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"typeShowFilter\")(scope.row.type)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"发件人\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tooltip', {\n          staticClass: \"item\",\n          attrs: {\n            \"effect\": \"dark\",\n            \"content\": scope.row.sendMail,\n            \"placement\": \"top\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(scope.row.sendName))])])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"主题\",\n      \"show-overflow-tooltip\": true,\n      \"min-width\": \"500px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', {\n          staticClass: \"link-type\",\n          on: {\n            \"click\": function($event) {\n              _vm.goToDetail(scope.row)\n            }\n          }\n        }, [_vm._v(_vm._s(scope.row.title))]), _vm._v(\" \"), _vm._l((scope.row.labelList), function(label) {\n          return _c('el-tag', {\n            key: label.guid\n          }, [_vm._v(_vm._s(label.name))])\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"date\",\n      \"sortable\": \"custom\",\n      \"align\": \"center\",\n      \"label\": \"时间\",\n      \"width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.date, '{y}-{m}-{d} {h}:{i}')))])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.listLoading),\n      expression: \"!listLoading\"\n    }],\n    staticClass: \"pagination-container\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.listQuery.page,\n      \"page-sizes\": [10, 20, 30, 50],\n      \"page-size\": _vm.listQuery.limit,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.listQuery.page = $event\n      }\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-31542516\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/mail_list/index.vue\n// module id = 550\n// module chunks = 6"],"sourceRoot":""}